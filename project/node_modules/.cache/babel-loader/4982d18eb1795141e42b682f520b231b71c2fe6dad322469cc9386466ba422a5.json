{"ast":null,"code":"\"use strict\";\n\n// ? ==================================== (c) TagoIO ====================================\n// * What is this file?\n//     Converts the OLD RANGE to BLUEPRINT RANGE\n// ? ====================================================================================\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isNumber = function isNumber(s) {\n  var str = (\"\" + s).trim();\n  if (str.length === 0) {\n    return false;\n  }\n  return !isNaN(+str);\n};\nfunction convertRange(oldWidgetDisplay) {\n  var range = {};\n  if (oldWidgetDisplay.range_limit === \"metadata\") {\n    range.type = \"metadata\";\n    if (oldWidgetDisplay.range_limit_metadata === \"custom\") {\n      var _oldVariable$origin;\n      range.metadata_origin = \"variable\";\n      var oldVariable = oldWidgetDisplay.range_limit_variable;\n      var variable = {\n        origin: ((_oldVariable$origin = oldVariable.origin) === null || _oldVariable$origin === void 0 ? void 0 : _oldVariable$origin.id) || (oldVariable === null || oldVariable === void 0 ? void 0 : oldVariable.origin),\n        variable: oldVariable === null || oldVariable === void 0 ? void 0 : oldVariable.variable\n      };\n      range.variable = variable;\n    } else {\n      range.metadata_origin = oldWidgetDisplay.range_limit_metadata === \"origin\" ? \"original\" : \"formula\";\n    }\n  } else {\n    range.type = \"minmax\";\n    var min = oldWidgetDisplay.minimum;\n    var max = oldWidgetDisplay.maximum;\n    range.minimum = min !== undefined && isNumber(min) ? Number(min) : 0;\n    range.maximum = max !== undefined && isNumber(max) ? Number(max) : 100;\n  }\n  return range;\n}\nexports.default = convertRange;","map":{"version":3,"mappings":";;AAAA;AACA;AACA;AACA;;;;AAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAQ,CAAIC,CAAM,EAAa;EACnC,IAAMC,GAAG,GAAG,CAAC,EAAE,GAAGD,CAAC,EAAEE,IAAI,EAAE;EAC3B,IAAID,GAAG,CAACE,MAAM,KAAK,CAAC,EAAE;IACpB,OAAO,KAAK;;EAEd,OAAO,CAACC,KAAK,CAAC,CAACH,GAAG,CAAC;AACrB,CAAC;AAED,SAASI,YAAY,CAACC,gBAAqB;EACzC,IAAMC,KAAK,GAAQ,EAAE;EAErB,IAAID,gBAAgB,CAACE,WAAW,KAAK,UAAU,EAAE;IAC/CD,KAAK,CAACE,IAAI,GAAG,UAAU;IACvB,IAAIH,gBAAgB,CAACI,oBAAoB,KAAK,QAAQ,EAAE;MAAA;MACtDH,KAAK,CAACI,eAAe,GAAG,UAAU;MAClC,IAAMC,WAAW,GAAGN,gBAAgB,CAACO,oBAAoB;MACzD,IAAMC,QAAQ,GAAG;QACfC,MAAM,EAAE,mCAAW,CAACA,MAAM,wDAAlB,oBAAoBC,EAAE,MAAIJ,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,MAAM;QACrDD,QAAQ,EAAEF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEE;OACxB;MACDP,KAAK,CAACO,QAAQ,GAAGA,QAAQ;KAC1B,MAAM;MACLP,KAAK,CAACI,eAAe,GAAGL,gBAAgB,CAACI,oBAAoB,KAAK,QAAQ,GAAG,UAAU,GAAG,SAAS;;GAEtG,MAAM;IACLH,KAAK,CAACE,IAAI,GAAG,QAAQ;IACrB,IAAMQ,GAAG,GAAGX,gBAAgB,CAACY,OAAO;IACpC,IAAMC,GAAG,GAAGb,gBAAgB,CAACc,OAAO;IACpCb,KAAK,CAACW,OAAO,GAAGD,GAAG,KAAKI,SAAS,IAAItB,QAAQ,CAACkB,GAAG,CAAC,GAAGK,MAAM,CAACL,GAAG,CAAC,GAAG,CAAC;IACpEV,KAAK,CAACa,OAAO,GAAGD,GAAG,KAAKE,SAAS,IAAItB,QAAQ,CAACoB,GAAG,CAAC,GAAGG,MAAM,CAACH,GAAG,CAAC,GAAG,GAAG;;EAGxE,OAAOZ,KAAK;AACd;AAEAgB,kBAAelB,YAAY","names":["isNumber","s","str","trim","length","isNaN","convertRange","oldWidgetDisplay","range","range_limit","type","range_limit_metadata","metadata_origin","oldVariable","range_limit_variable","variable","origin","id","min","minimum","max","maximum","undefined","Number","exports"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\common\\convertRange.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\r\n// * What is this file?\r\n//     Converts the OLD RANGE to BLUEPRINT RANGE\r\n// ? ====================================================================================\r\n\r\nconst isNumber = (s: any): boolean => {\r\n  const str = (\"\" + s).trim();\r\n  if (str.length === 0) {\r\n    return false;\r\n  }\r\n  return !isNaN(+str);\r\n};\r\n\r\nfunction convertRange(oldWidgetDisplay: any): any {\r\n  const range: any = {};\r\n\r\n  if (oldWidgetDisplay.range_limit === \"metadata\") {\r\n    range.type = \"metadata\";\r\n    if (oldWidgetDisplay.range_limit_metadata === \"custom\") {\r\n      range.metadata_origin = \"variable\";\r\n      const oldVariable = oldWidgetDisplay.range_limit_variable;\r\n      const variable = {\r\n        origin: oldVariable.origin?.id || oldVariable?.origin,\r\n        variable: oldVariable?.variable,\r\n      };\r\n      range.variable = variable;\r\n    } else {\r\n      range.metadata_origin = oldWidgetDisplay.range_limit_metadata === \"origin\" ? \"original\" : \"formula\";\r\n    }\r\n  } else {\r\n    range.type = \"minmax\";\r\n    const min = oldWidgetDisplay.minimum;\r\n    const max = oldWidgetDisplay.maximum;\r\n    range.minimum = min !== undefined && isNumber(min) ? Number(min) : 0;\r\n    range.maximum = max !== undefined && isNumber(max) ? Number(max) : 100;\r\n  }\r\n\r\n  return range;\r\n}\r\n\r\nexport default convertRange;\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}