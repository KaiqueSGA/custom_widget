{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _inherits = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/mqtt_wid/dash_mqtt/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar axios_1 = __importDefault(require(\"axios\"));\nvar TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nvar PDFService = /*#__PURE__*/function (_TagoIOModule_1$defau) {\n  _inherits(PDFService, _TagoIOModule_1$defau);\n  var _super = _createSuper(PDFService);\n  function PDFService() {\n    _classCallCheck(this, PDFService);\n    return _super.apply(this, arguments);\n  }\n  _createClass(PDFService, [{\n    key: \"generate\",\n    value:\n    /**\n     * Generate a PDF from html, url or base64\n     *\n     */\n    function () {\n      var _generate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(params) {\n        var result, _error$response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return (0, axios_1.default)({\n                  method: \"POST\",\n                  url: \"https://pdf.middleware.tago.io\",\n                  data: params,\n                  headers: {\n                    token: this.params.token\n                  }\n                });\n              case 3:\n                result = _context.sent;\n                return _context.abrupt(\"return\", result === null || result === void 0 ? void 0 : result.data);\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](0);\n                return _context.abrupt(\"return\", Promise.reject((_context.t0 === null || _context.t0 === void 0 ? void 0 : (_error$response = _context.t0.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n                  result: false,\n                  stuats: \"unknown error\"\n                }));\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 7]]);\n      }));\n      function generate(_x) {\n        return _generate.apply(this, arguments);\n      }\n      return generate;\n    }()\n  }]);\n  return PDFService;\n}(TagoIOModule_1.default);\nexports.default = PDFService;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAA8E,IA2HxEA,UAAW;EAAA;EAAA;EAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA;IACf;;;;IAAA;MAAA,2EAIO,iBAAeC,MAAiB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEd,mBAAK,EAAC;kBACzBC,MAAM,EAAE,MAAM;kBACdC,GAAG,EAAE,gCAAgC;kBACrCC,IAAI,EAAEH,MAAM;kBACZI,OAAO,EAAE;oBACPC,KAAK,EAAE,IAAI,CAACL,MAAM,CAACK;;iBAEtB,CAAC;cAAA;gBAPIC,MAAM;gBAAA,iCASLA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEH,IAAI;cAAA;gBAAA;gBAAA;gBAAA,iCAEZI,OAAO,CAACC,MAAM,CAAC,0FAAOC,QAAQ,oDAAf,gBAAiBN,IAAI,KAAI;kBAAEG,MAAM,EAAE,KAAK;kBAAEI,MAAM,EAAE;gBAAe,CAAE,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAE7F;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA,EApBsBC,sBAAiC;AAuB1DC,kBAAeb,UAAU","names":["PDFService","params","method","url","data","headers","token","result","Promise","reject","response","stuats","TagoIOModule_1","exports"],"sources":["C:\\Users\\yudji\\OneDrive\\Documentos\\SGA\\WIDGETS\\mqtt_wid\\dash_mqtt\\node_modules\\@tago-io\\sdk\\src\\modules\\Services\\PDF.ts"],"sourcesContent":["import axios from \"axios\";\nimport TagoIOModule, { GenericModuleParams } from \"../../common/TagoIOModule\";\n\ninterface PDFResult {\n  status: boolean;\n  result: string;\n}\n\ninterface PDFParams {\n  /**\n   * HTML as string\n   */\n  html?: string;\n\n  /**\n   * HTML on base64 format\n   */\n  base64?: string;\n\n  /**\n   * File name of pdf\n   * Without filename, it will generate base64 response\n   * With filename it will generate pdf binary\n   */\n  fileName?: string;\n\n  /**\n   * Generate pdf from URL\n   */\n  url?: string;\n\n  /**\n   * PDF Custom Options\n   */\n  options?: {\n    /**\n     * Display header and footer. Defaults to `false`.\n     */\n    displayHeaderFooter?: boolean;\n\n    /**\n     * HTML template for the print footer. Should use the same format as the `headerTemplate`.\n     */\n    footerTemplate?: string;\n\n    /**\n     * Paper format. If set, takes priority over `width` or `height` options. Defaults to 'Letter'.\n     */\n    format?: string;\n\n    /**\n     * HTML template for the print header. Should be valid HTML markup with following classes used to inject printing values\n     * into them:\n     * - `'date'` formatted print date\n     * - `'title'` document title\n     * - `'url'` document location\n     * - `'pageNumber'` current page number\n     * - `'totalPages'` total pages in the document\n     */\n    headerTemplate?: string;\n\n    /**\n     * Paper height, accepts values labeled with units.\n     */\n    height?: string | number;\n\n    /**\n     * Paper orientation. Defaults to `false`.\n     */\n    landscape?: boolean;\n\n    /**\n     * Paper margins, defaults to none.\n     */\n    margin?: {\n      /**\n       * Top margin, accepts values labeled with units. Defaults to `0`.\n       */\n      top?: string | number;\n\n      /**\n       * Right margin, accepts values labeled with units. Defaults to `0`.\n       */\n      right?: string | number;\n\n      /**\n       * Bottom margin, accepts values labeled with units. Defaults to `0`.\n       */\n      bottom?: string | number;\n\n      /**\n       * Left margin, accepts values labeled with units. Defaults to `0`.\n       */\n      left?: string | number;\n    };\n\n    /**\n     * Paper ranges to print, e.g., '1-5, 8, 11-13'. Defaults to the empty string, which means print all pages.\n     */\n    pageRanges?: string;\n\n    /**\n     * Give any CSS `@page` size declared in the page priority over what is declared in `width` and `height` or `format`\n     * options. Defaults to `false`, which will scale the content to fit the paper size.\n     */\n    preferCSSPageSize?: boolean;\n\n    /**\n     * Print background graphics. Defaults to `false`.\n     */\n    printBackground?: boolean;\n\n    /**\n     * Scale of the webpage rendering. Defaults to `1`. Scale amount must be between 0.1 and 2.\n     */\n    scale?: number;\n\n    /**\n     * Paper width, accepts values labeled with units.\n     */\n    width?: string | number;\n  };\n}\n\nclass PDFService extends TagoIOModule<GenericModuleParams> {\n  /**\n   * Generate a PDF from html, url or base64\n   *\n   */\n  public async generate(params: PDFParams): Promise<PDFResult> {\n    try {\n      const result = await axios({\n        method: \"POST\",\n        url: \"https://pdf.middleware.tago.io\",\n        data: params,\n        headers: {\n          token: this.params.token,\n        },\n      });\n\n      return result?.data;\n    } catch (error) {\n      return Promise.reject(error?.response?.data || { result: false, stuats: \"unknown error\" });\n    }\n  }\n}\n\nexport default PDFService;\nexport { PDFParams };\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}