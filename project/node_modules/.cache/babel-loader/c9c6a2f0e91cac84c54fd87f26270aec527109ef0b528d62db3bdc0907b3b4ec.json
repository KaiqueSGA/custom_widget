{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isOldStructure = exports.convert = void 0;\nfunction convert(oldWidget) {\n  const oldDisplay = oldWidget.display || {};\n  const newStructure = {\n    dashboard: oldWidget.dashboard,\n    display: {\n      buttons: oldDisplay?.buttons || [],\n      bypass_bucket: oldDisplay?.bypass_bucket,\n      header_buttons: oldDisplay.header_buttons || [],\n      help: oldDisplay.help || \"\",\n      message_variable: oldDisplay?.message_variable,\n      play_audio: !!oldDisplay?.play_audio,\n      send_run_user: !!oldDisplay?.send_run_user,\n      show_asterisk: !!oldDisplay?.show_asterisk,\n      show_digits_bar: !!oldDisplay?.show_digits_bar,\n      show_last_column: !!oldDisplay?.show_last_column,\n      show_last_row: !!oldDisplay?.show_last_row,\n      show_number_sign: !!oldDisplay?.show_number_sign,\n      theme: {\n        color: {\n          background: oldDisplay?.main_color,\n          click: oldDisplay?.click_color,\n          header: null\n        }\n      }\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"keypad\"\n  };\n  if (Array.isArray(oldWidget.data)) {\n    newStructure.data = oldWidget.data;\n  }\n  return newStructure;\n}\nexports.convert = convert;\nfunction isOldStructure(widget) {\n  const isOld = !!(widget?.display?.watermark !== undefined || widget?.display?.click_color);\n  return isOld;\n}\nexports.isOldStructure = isOldStructure;","map":{"version":3,"mappings":";;;;;;AAMA,SAAgBA,OAAO,CAACC,SAAc;EACpC,MAAMC,UAAU,GAAGD,SAAS,CAACE,OAAO,IAAI,EAAE;EAE1C,MAAMC,YAAY,GAAQ;IACxBC,SAAS,EAAEJ,SAAS,CAACI,SAAS;IAC9BF,OAAO,EAAE;MACPG,OAAO,EAAEJ,UAAU,EAAEI,OAAO,IAAI,EAAE;MAClCC,aAAa,EAAEL,UAAU,EAAEK,aAAa;MACxCC,cAAc,EAAEN,UAAU,CAACM,cAAc,IAAI,EAAE;MAC/CC,IAAI,EAAEP,UAAU,CAACO,IAAI,IAAI,EAAE;MAC3BC,gBAAgB,EAAER,UAAU,EAAEQ,gBAAgB;MAC9CC,UAAU,EAAE,CAAC,CAACT,UAAU,EAAES,UAAU;MACpCC,aAAa,EAAE,CAAC,CAACV,UAAU,EAAEU,aAAa;MAC1CC,aAAa,EAAE,CAAC,CAACX,UAAU,EAAEW,aAAa;MAC1CC,eAAe,EAAE,CAAC,CAACZ,UAAU,EAAEY,eAAe;MAC9CC,gBAAgB,EAAE,CAAC,CAACb,UAAU,EAAEa,gBAAgB;MAChDC,aAAa,EAAE,CAAC,CAACd,UAAU,EAAEc,aAAa;MAC1CC,gBAAgB,EAAE,CAAC,CAACf,UAAU,EAAEe,gBAAgB;MAChDC,KAAK,EAAE;QACLC,KAAK,EAAE;UACLC,UAAU,EAAElB,UAAU,EAAEmB,UAAU;UAClCC,KAAK,EAAEpB,UAAU,EAAEqB,WAAW;UAC9BC,MAAM,EAAE;;;KAGb;IACDC,EAAE,EAAExB,SAAS,CAACwB,EAAE;IAChBC,KAAK,EAAEzB,SAAS,CAACyB,KAAK;IACtBC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;GACP;EAED,IAAIC,KAAK,CAACC,OAAO,CAAC7B,SAAS,CAAC8B,IAAI,CAAC,EAAE;IACjC3B,YAAY,CAAC2B,IAAI,GAAG9B,SAAS,CAAC8B,IAAI;;EAEpC,OAAO3B,YAAY;AACrB;AApCA4B;AAsCA,SAAgBC,cAAc,CAACC,MAAW;EACxC,MAAMC,KAAK,GAAG,CAAC,EAAED,MAAM,EAAE/B,OAAO,EAAEiC,SAAS,KAAKC,SAAS,IAAIH,MAAM,EAAE/B,OAAO,EAAEoB,WAAW,CAAC;EAE1F,OAAOY,KAAK;AACd;AAJAH","names":["convert","oldWidget","oldDisplay","display","newStructure","dashboard","buttons","bypass_bucket","header_buttons","help","message_variable","play_audio","send_run_user","show_asterisk","show_digits_bar","show_last_column","show_last_row","show_number_sign","theme","color","background","main_color","click","click_color","header","id","label","realtime","type","Array","isArray","data","exports","isOldStructure","widget","isOld","watermark","undefined"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\keypad.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\r\n// * What is this file?\r\n//     Migration of old KEYPAD to new KEYPAD\r\n// ? ====================================================================================\r\nimport { WidgetInfo } from \"../Account/dashboards.types\";\r\n\r\nexport function convert(oldWidget: any): WidgetInfo {\r\n  const oldDisplay = oldWidget.display || {};\r\n\r\n  const newStructure: any = {\r\n    dashboard: oldWidget.dashboard,\r\n    display: {\r\n      buttons: oldDisplay?.buttons || [],\r\n      bypass_bucket: oldDisplay?.bypass_bucket,\r\n      header_buttons: oldDisplay.header_buttons || [],\r\n      help: oldDisplay.help || \"\",\r\n      message_variable: oldDisplay?.message_variable,\r\n      play_audio: !!oldDisplay?.play_audio,\r\n      send_run_user: !!oldDisplay?.send_run_user,\r\n      show_asterisk: !!oldDisplay?.show_asterisk,\r\n      show_digits_bar: !!oldDisplay?.show_digits_bar,\r\n      show_last_column: !!oldDisplay?.show_last_column,\r\n      show_last_row: !!oldDisplay?.show_last_row,\r\n      show_number_sign: !!oldDisplay?.show_number_sign,\r\n      theme: {\r\n        color: {\r\n          background: oldDisplay?.main_color,\r\n          click: oldDisplay?.click_color,\r\n          header: null,\r\n        },\r\n      },\r\n    },\r\n    id: oldWidget.id,\r\n    label: oldWidget.label,\r\n    realtime: null,\r\n    type: \"keypad\",\r\n  };\r\n\r\n  if (Array.isArray(oldWidget.data)) {\r\n    newStructure.data = oldWidget.data;\r\n  }\r\n  return newStructure;\r\n}\r\n\r\nexport function isOldStructure(widget: any) {\r\n  const isOld = !!(widget?.display?.watermark !== undefined || widget?.display?.click_color);\r\n\r\n  return isOld;\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}