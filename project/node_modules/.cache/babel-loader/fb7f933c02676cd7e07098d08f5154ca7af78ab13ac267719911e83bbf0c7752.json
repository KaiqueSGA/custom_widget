{"ast":null,"code":"\"use strict\";\n\n// ? ==================================== (c) TagoIO ====================================\n// * What is this file?\n//     Migration of old CLOCK to new CLOCK.\n// ? ====================================================================================\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isOldStructure = exports.convert = void 0;\n/**\r\n * Takes the OLD widget and returns the NEW structure.\r\n */\nfunction convert(oldWidget) {\n  const oldDisplay = oldWidget.display || {};\n  const newStructure = {\n    dashboard: oldWidget.dashboard,\n    display: {\n      header_buttons: oldDisplay.header_buttons || [],\n      help: oldDisplay.help || \"\",\n      show_last_update: false,\n      theme: {\n        color: {\n          background: null,\n          fill: null,\n          header: null,\n          outline: null,\n          text: null,\n          text_border: null\n        }\n      }\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"clock\"\n  };\n  newStructure.data = oldWidget.data;\n  return newStructure;\n}\nexports.convert = convert;\n/**\r\n * The note has the OLD structure if the display contains a TEXT property.\r\n */\nfunction isOldStructure(widget) {\n  const isOld = !!widget?.display?.gauge_type;\n  return isOld;\n}\nexports.isOldStructure = isOldStructure;","map":{"version":3,"mappings":";;AAAA;AACA;AACA;AACA;;;;;AAIA;;;AAGA,SAAgBA,OAAO,CAACC,SAAc;EACpC,MAAMC,UAAU,GAAGD,SAAS,CAACE,OAAO,IAAI,EAAE;EAE1C,MAAMC,YAAY,GAAQ;IACxBC,SAAS,EAAEJ,SAAS,CAACI,SAAS;IAC9BF,OAAO,EAAE;MACPG,cAAc,EAAEJ,UAAU,CAACI,cAAc,IAAI,EAAE;MAC/CC,IAAI,EAAEL,UAAU,CAACK,IAAI,IAAI,EAAE;MAC3BC,gBAAgB,EAAE,KAAK;MACvBC,KAAK,EAAE;QACLC,KAAK,EAAE;UACLC,UAAU,EAAE,IAAI;UAChBC,IAAI,EAAE,IAAI;UACVC,MAAM,EAAE,IAAI;UACZC,OAAO,EAAE,IAAI;UACbC,IAAI,EAAE,IAAI;UACVC,WAAW,EAAE;;;KAGlB;IACDC,EAAE,EAAEhB,SAAS,CAACgB,EAAE;IAChBC,KAAK,EAAEjB,SAAS,CAACiB,KAAK;IACtBC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;GACP;EAEDhB,YAAY,CAACiB,IAAI,GAAGpB,SAAS,CAACoB,IAAI;EAElC,OAAOjB,YAAY;AACrB;AA7BAkB;AA+BA;;;AAGA,SAAgBC,cAAc,CAACC,MAAW;EACxC,MAAMC,KAAK,GAAG,CAAC,CAACD,MAAM,EAAErB,OAAO,EAAEuB,UAAU;EAE3C,OAAOD,KAAK;AACd;AAJAH","names":["convert","oldWidget","oldDisplay","display","newStructure","dashboard","header_buttons","help","show_last_update","theme","color","background","fill","header","outline","text","text_border","id","label","realtime","type","data","exports","isOldStructure","widget","isOld","gauge_type"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\clock.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\r\n// * What is this file?\r\n//     Migration of old CLOCK to new CLOCK.\r\n// ? ====================================================================================\r\n\r\nimport { WidgetInfo } from \"../Account/dashboards.types\";\r\n\r\n/**\r\n * Takes the OLD widget and returns the NEW structure.\r\n */\r\nexport function convert(oldWidget: any): WidgetInfo {\r\n  const oldDisplay = oldWidget.display || {};\r\n\r\n  const newStructure: any = {\r\n    dashboard: oldWidget.dashboard,\r\n    display: {\r\n      header_buttons: oldDisplay.header_buttons || [],\r\n      help: oldDisplay.help || \"\",\r\n      show_last_update: false,\r\n      theme: {\r\n        color: {\r\n          background: null,\r\n          fill: null,\r\n          header: null,\r\n          outline: null,\r\n          text: null,\r\n          text_border: null,\r\n        },\r\n      },\r\n    },\r\n    id: oldWidget.id,\r\n    label: oldWidget.label,\r\n    realtime: null,\r\n    type: \"clock\",\r\n  };\r\n\r\n  newStructure.data = oldWidget.data;\r\n\r\n  return newStructure;\r\n}\r\n\r\n/**\r\n * The note has the OLD structure if the display contains a TEXT property.\r\n */\r\nexport function isOldStructure(widget: any): boolean {\r\n  const isOld = !!widget?.display?.gauge_type;\r\n\r\n  return isOld;\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}