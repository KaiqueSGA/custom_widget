{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yudji\\\\OneDrive\\\\Documentos\\\\SGA\\\\WIDGETS\\\\custom_widgets\\\\project\\\\src\\\\widgets\\\\device_variables\\\\device_variables.js\",\n  _s = $RefreshSig$();\nimport './device_variables.css';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  tago_device\n} = require('../../classes/device/device.js');\nconst {\n  location_apis\n} = require('../../classes/location/location.js');\nfunction Device_variables() {\n  _s();\n  const [device_variables, set_device_variables] = useState([]);\n  const device_methods = new tago_device();\n  const location_funcs = new location_apis();\n\n  /* useEffect(() => {console.log(\"oiii\")\r\n    window.TagoIO.onStart( async(widget) => {\r\n      window.widget = widget;\r\n        let device_id = widget.display.variables[0].origin.id;\r\n      let request = await device_methods.get_device_variables(device_id).filter(data => data.metadata.media === \"STX\"); \r\n      set_device_variables(request); \r\n  })\r\n  window.TagoIO.ready(); \r\n  },[]) */\n  /* useEffect(() => {\r\n     device_methods.get_device_variables(\"6419c2dea997d700090c60ae\")\r\n       .then((data) => {console.log(data)\r\n          set_device_variables(data.filter(data => data.metadata.media === \"STX\"))\r\n       })\r\n     \r\n  },[]) */\n\n  const cacthESN = data => {\n    let help = data.indexOf(\"<unixTime>\");\n    let firstTag = data.indexOf(\">\", help);\n    let secondTag = data.indexOf(\"</unixTime>\", firstTag);\n    return data.substring(firstTag + 1, secondTag);\n  };\n  function add_0_to_left(value) {\n    if (String(value).length === 1) {\n      return \"0\" + value;\n    } else {\n      return value;\n    }\n  }\n  const conver_hours_in_seconds = (hour, minute, second) => {\n    let hours_in_seconds = hour * 3600;\n    let minutes_in_seconds = minute * 60;\n    let total_value = hours_in_seconds + minutes_in_seconds + second;\n    console.log(total_value);\n    return total_value;\n\n    /*  if(total_value % 3600 > 0){\r\n       var minutes = total_value % 3600;\r\n       var final_hour = (total_value - minutes) / 3600;\r\n       }else{\r\n       var final_hour = total_value / 3600;\r\n     }\r\n    \n     if(minutes % 60 > 0){\r\n       var final_seconds = minutes % 60;\r\n       var final_minute = (minutes - final_seconds) / 60;\r\n       }else{\r\n       var final_minute = minutes  / 60;\r\n     } */\n\n    //console.log(`${final_hour}:${final_minute}:${final_seconds}`);\n  };\n\n  conver_hours_in_seconds(3, 12, 5);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div-mother\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-filho\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-div-mother\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"See all variables that the selected device sent!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"data_variables\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            border: \"1\",\n            className: \"variable_tables\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"TimeStamp Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"UnixTime Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Difference between Dates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), device_variables.map(data => {\n              let unixTime = new Date(Number(cacthESN(data.metadata.xml)) * 1000);\n              console.log(unixTime.getSeconds() - data.time.getSeconds());\n              console.log();\n              console.log(\" \");\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: `${add_0_to_left(data.time.getMonth() + 1)}/${add_0_to_left(data.time.getDate())}/${add_0_to_left(data.time.getFullYear())} ${add_0_to_left(data.time.getHours())}:${add_0_to_left(data.time.getMinutes())}:${add_0_to_left(data.time.getSeconds())}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"data_variable\",\n                  children: `${add_0_to_left(unixTime.getMonth() + 1)}/${add_0_to_left(unixTime.getDate())}/${add_0_to_left(unixTime.getFullYear())} ${add_0_to_left(unixTime.getHours())}:${add_0_to_left(unixTime.getMinutes())}:${add_0_to_left(unixTime.getSeconds())}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"b\",\n                  children: `The values has a difference of: ${Math.abs(unixTime.getHours() - data.time.getHours())} hours,  ${Math.abs((unixTime.getMinutes() * 60 - data.time.getMinutes() * 60) / 60)} minutes and  ${Math.abs(unixTime.getSeconds() - data.time.getSeconds())} seconds of unixtime`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: data.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 38\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: data.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Device_variables, \"aUjS8+aPDva3Kcn5K5R1BFr0H98=\");\n_c = Device_variables;\nexport { Device_variables };\nvar _c;\n$RefreshReg$(_c, \"Device_variables\");","map":{"version":3,"names":["React","useEffect","useState","tago_device","require","location_apis","Device_variables","device_variables","set_device_variables","device_methods","location_funcs","cacthESN","data","help","indexOf","firstTag","secondTag","substring","add_0_to_left","value","String","length","conver_hours_in_seconds","hour","minute","second","hours_in_seconds","minutes_in_seconds","total_value","console","log","map","unixTime","Date","Number","metadata","xml","getSeconds","time","getMonth","getDate","getFullYear","getHours","getMinutes","Math","abs","id"],"sources":["C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/src/widgets/device_variables/device_variables.js"],"sourcesContent":["import './device_variables.css';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\n\r\nconst { tago_device } = require('../../classes/device/device.js');\r\nconst { location_apis } = require('../../classes/location/location.js')\r\n\r\n\r\nfunction Device_variables(){\r\n  const [device_variables, set_device_variables] = useState( [] );\r\n\r\n  const device_methods = new tago_device();\r\n  const location_funcs = new location_apis();\r\n\r\n\r\n  /* useEffect(() => {console.log(\"oiii\")\r\n    window.TagoIO.onStart( async(widget) => {\r\n      window.widget = widget;\r\n\r\n      let device_id = widget.display.variables[0].origin.id;\r\n      let request = await device_methods.get_device_variables(device_id).filter(data => data.metadata.media === \"STX\"); \r\n      set_device_variables(request); \r\n  })\r\n  window.TagoIO.ready(); \r\n  },[]) */\r\n/* useEffect(() => {\r\n   device_methods.get_device_variables(\"6419c2dea997d700090c60ae\")\r\n     .then((data) => {console.log(data)\r\n        set_device_variables(data.filter(data => data.metadata.media === \"STX\"))\r\n     })\r\n   \r\n},[]) */\r\n\r\n\r\n\r\n    const cacthESN = (data) =>{\r\n      let help = data.indexOf(\"<unixTime>\");\r\n      let firstTag = data.indexOf(\">\",help);\r\n      let secondTag = data.indexOf(\"</unixTime>\",firstTag);\r\n    \r\n      return data.substring(firstTag + 1,secondTag)\r\n    }\r\n  \r\n\r\n\r\n    \r\n   \r\n\r\n\r\n   function add_0_to_left(value){\r\n\r\n      if( String(value).length === 1 ){\r\n        return \"0\" + value;\r\n      }else{\r\n        return value;\r\n      }\r\n\r\n   }\r\n\r\n\r\n   const conver_hours_in_seconds = (hour,minute,second) => {\r\n    let hours_in_seconds = hour * 3600;\r\n    let minutes_in_seconds = minute * 60;\r\n\r\n\r\n    let total_value = hours_in_seconds + minutes_in_seconds + second;console.log(total_value)\r\n    return total_value;\r\n\r\n   /*  if(total_value % 3600 > 0){\r\n      var minutes = total_value % 3600;\r\n      var final_hour = (total_value - minutes) / 3600;\r\n\r\n    }else{\r\n      var final_hour = total_value / 3600;\r\n    }\r\n\r\n\r\n    if(minutes % 60 > 0){\r\n      var final_seconds = minutes % 60;\r\n      var final_minute = (minutes - final_seconds) / 60;\r\n\r\n    }else{\r\n      var final_minute = minutes  / 60;\r\n    } */\r\n\r\n    //console.log(`${final_hour}:${final_minute}:${final_seconds}`);\r\n   }\r\n\r\n\r\n   conver_hours_in_seconds(3,12,5)\r\n\r\n\r\n    return(\r\n        <>\r\n\r\n        <div className='div-mother'>\r\n        <div className='div-filho'>\r\n\r\n      <div className='text-div-mother'>\r\n         <h1>See all variables that the selected device sent!</h1>\r\n         <br/>\r\n        </div>\r\n       \r\n                <div className='data_variables'>\r\n\r\n                        <table border=\"1\" className='variable_tables'>\r\n                            <tr>\r\n                                <td>TimeStamp Value</td>\r\n                                <td>UnixTime Value</td>\r\n                                <td>Difference between Dates</td>\r\n                                  \r\n                            </tr>\r\n                            {device_variables.map(data => { \r\n\r\n                            \r\n                            let unixTime = new Date( (Number( cacthESN(data.metadata.xml) )) * 1000); \r\n\r\n                            console.log(unixTime.getSeconds() - data.time.getSeconds());\r\n                            console.log();\r\n                            console.log(\" \");\r\n                              return( \r\n                                <tr>\r\n\r\n                                      <td>{`${ add_0_to_left((data.time.getMonth()) + 1)  }/${ add_0_to_left(data.time.getDate()) }/${ add_0_to_left(data.time.getFullYear()) } ${ add_0_to_left(data.time.getHours()) }:${ add_0_to_left(data.time.getMinutes()) }:${ add_0_to_left(data.time.getSeconds()) }`}</td>   \r\n\r\n                                      <td className='data_variable'>{`${ add_0_to_left((unixTime.getMonth()) + 1)  }/${ add_0_to_left(unixTime.getDate()) }/${ add_0_to_left(unixTime.getFullYear()) } ${ add_0_to_left(unixTime.getHours()) }:${ add_0_to_left(unixTime.getMinutes()) }:${ add_0_to_left(unixTime.getSeconds()) }`}</td> \r\n\r\n                                      <td className='b'>{ `The values has a difference of: ${Math.abs(unixTime.getHours() - data.time.getHours() )} hours,  ${(Math.abs( ( (unixTime.getMinutes() * 60) - (data.time.getMinutes()) * 60) / 60) )} minutes and  ${Math.abs(unixTime.getSeconds() - data.time.getSeconds())} seconds of unixtime` }</td>\r\n\r\n                                     <td className={data.id}></td>\r\n                                     <td className={data.id}></td>\r\n\r\n                                </tr>\r\n                              )\r\n\r\n                               \r\n  \r\n\r\n\r\n                            })}\r\n\r\n                        </table>\r\n                        \r\n                            \r\n                    \r\n                </div>\r\n\r\n\r\n\r\n\r\n                </div> \r\n\r\n\r\n           \r\n\r\n            </div>         \r\n         \r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport { Device_variables };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}