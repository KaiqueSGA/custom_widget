{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nconst dateParser_1 = __importDefault(require(\"../Utils/dateParser\"));\nclass Plan extends TagoIOModule_1.default {\n  /**\r\n   * Active plan and set services limit\r\n   * @param data\r\n   * @example\r\n   * data: {\r\n   *   \"plan\": \"plan_id\",\r\n   *   \"sms\": 100,\r\n   *   \"email\": 1000,\r\n   *   \"data_records\": 200000,\r\n   *   \"device_request\": 250,\r\n   *   \"analysis\": 1000\r\n   * }\r\n   */\n  async setPlanParameters(data) {\n    const result = await this.doRequest({\n      path: \"/account/plan/\",\n      method: \"POST\"\n    });\n    return result;\n  }\n  /**\r\n   * Get Active Plan and Services\r\n   */\n  async getActivePlan() {\n    let result = await this.doRequest({\n      path: \"/account/plan\",\n      method: \"GET\"\n    });\n    result = (0, dateParser_1.default)(result, [\"created_at\", \"end_date\"]);\n    return result;\n  }\n  /**\r\n   * Shows a summary of how much your account is costing, divided by sections\r\n   */\n  async summary() {\n    const result = await this.doRequest({\n      path: \"/billing\",\n      method: \"GET\"\n    });\n    return result;\n  }\n  /**\r\n   * Get current Tago pricing\r\n   */\n  async getCurrentPrices() {\n    const result = await this.doRequest({\n      path: \"/pricing\",\n      method: \"GET\"\n    });\n    return result;\n  }\n}\nexports.default = Plan;","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AACA;AAGA,MAAMA,IAAK,SAAQC,sBAAiC;EAClD;;;;;;;;;;;;;EAaO,MAAMC,iBAAiB,CAACC,IAAiB;IAC9C,MAAMC,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,gBAAgB;MACtBC,MAAM,EAAE;KACT,CAAC;IAEF,OAAOH,MAAM;EACf;EAEA;;;EAGO,MAAMI,aAAa;IACxB,IAAIJ,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAW;MAC1CC,IAAI,EAAE,eAAe;MACrBC,MAAM,EAAE;KACT,CAAC;IAEFH,MAAM,GAAG,wBAAU,EAACA,MAAM,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;IAEvD,OAAOA,MAAM;EACf;EAEA;;;EAGO,MAAMK,OAAO;IAClB,MAAML,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAU;MAC3CC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE;KACT,CAAC;IAEF,OAAOH,MAAM;EACf;EAEA;;;EAGO,MAAMM,gBAAgB;IAC3B,MAAMN,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAgB;MACjDC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE;KACT,CAAC;IAEF,OAAOH,MAAM;EACf;;AAGFO,kBAAeX,IAAI","names":["Plan","TagoIOModule_1","setPlanParameters","data","result","doRequest","path","method","getActivePlan","summary","getCurrentPrices","exports"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Account\\Plan.ts"],"sourcesContent":["import TagoIOModule, { GenericModuleParams } from \"../../common/TagoIOModule\";\r\nimport dateParser from \"../Utils/dateParser\";\r\nimport { CurrentPrices, PlanInfo, PlanSetInfo, Summary } from \"./plan.types\";\r\n\r\nclass Plan extends TagoIOModule<GenericModuleParams> {\r\n  /**\r\n   * Active plan and set services limit\r\n   * @param data\r\n   * @example\r\n   * data: {\r\n   *   \"plan\": \"plan_id\",\r\n   *   \"sms\": 100,\r\n   *   \"email\": 1000,\r\n   *   \"data_records\": 200000,\r\n   *   \"device_request\": 250,\r\n   *   \"analysis\": 1000\r\n   * }\r\n   */\r\n  public async setPlanParameters(data: PlanSetInfo): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: \"/account/plan/\",\r\n      method: \"POST\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Get Active Plan and Services\r\n   */\r\n  public async getActivePlan(): Promise<PlanInfo> {\r\n    let result = await this.doRequest<PlanInfo>({\r\n      path: \"/account/plan\",\r\n      method: \"GET\",\r\n    });\r\n\r\n    result = dateParser(result, [\"created_at\", \"end_date\"]);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Shows a summary of how much your account is costing, divided by sections\r\n   */\r\n  public async summary(): Promise<Summary> {\r\n    const result = await this.doRequest<Summary>({\r\n      path: \"/billing\",\r\n      method: \"GET\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Get current Tago pricing\r\n   */\r\n  public async getCurrentPrices(): Promise<CurrentPrices> {\r\n    const result = await this.doRequest<CurrentPrices>({\r\n      path: \"/pricing\",\r\n      method: \"GET\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default Plan;\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}