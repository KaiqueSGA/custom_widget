{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/kaique/Documents/SGA/widget/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kaique/Documents/SGA/widget/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/kaique/Documents/SGA/widget/project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/kaique/Documents/SGA/widget/project/node_modules/@babel/runtime/helpers/esm/createClass.js\";var _require=require('@tago-io/sdk'),Account=_require.Account,Device=_require.Device;var account=new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});export var tago_device=/*#__PURE__*/function(){function tago_device(){_classCallCheck(this,tago_device);}_createClass(tago_device,[{key:\"list\",value:function(){var _list=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new Promise(function(resolve,reject){account.devices.list().then(function(resp){return resolve(resp);}).catch(function(err){return reject(err);});}));case 1:case\"end\":return _context.stop();}}},_callee);}));function list(){return _list.apply(this,arguments);}return list;}()},{key:\"get_device_id\",value:function(){var _get_device_id=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(select_value){var device_id;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://private method\ndevice_id=select_value.split(\",\")[0];console.log(device_id);return _context2.abrupt(\"return\",device_id);case 3:case\"end\":return _context2.stop();}}},_callee2);}));function get_device_id(_x){return _get_device_id.apply(this,arguments);}return get_device_id;}()},{key:\"get_select_content\",value:function(){var _get_select_content=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var select,select_value;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0://private method\nselect=document.getElementById(\"devices\");select_value=select.options[select.selectedIndex].value;return _context3.abrupt(\"return\",select_value);case 3:case\"end\":return _context3.stop();}}},_callee3);}));function get_select_content(){return _get_select_content.apply(this,arguments);}return get_select_content;}()},{key:\"get_device_token\",value:function(){var _get_device_token=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(device_id){var device_token;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return account.devices.paramList(device_id);case 2:device_token=_context4.sent;return _context4.abrupt(\"return\",device_token.find(function(param){return param.key===\"device_token\";}).value);case 4:case\"end\":return _context4.stop();}}},_callee4);}));function get_device_token(_x2){return _get_device_token.apply(this,arguments);}return get_device_token;}()},{key:\"get_device_variables\",value:function(){var _get_device_variables=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var select_value,device_id,device_token,my_device,request;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.get_select_content();case 2:select_value=_context5.sent;_context5.next=5;return this.get_device_id(select_value);case 5:device_id=_context5.sent;_context5.next=8;return this.get_device_token(device_id);case 8:device_token=_context5.sent;my_device=new Device({token:device_token});_context5.next=12;return my_device.getData({qty:500});case 12:request=_context5.sent;return _context5.abrupt(\"return\",request);case 14:case\"end\":return _context5.stop();}}},_callee5,this);}));function get_device_variables(){return _get_device_variables.apply(this,arguments);}return get_device_variables;}()}]);return tago_device;}();","map":{"version":3,"names":["require","Account","Device","account","token","tago_device","Promise","resolve","reject","devices","list","then","resp","catch","err","select_value","device_id","split","console","log","select","document","getElementById","options","selectedIndex","value","paramList","device_token","find","param","key","get_select_content","get_device_id","get_device_token","my_device","getData","qty","request"],"sources":["C:/Users/kaique/Documents/SGA/widget/project/src/classes/device/device.js"],"sourcesContent":["const {Account, Device} = require('@tago-io/sdk');\r\nconst account = new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});\r\n\r\nexport class tago_device{\r\n\r\n    async list(){//public method\r\n\r\n      return new Promise((resolve, reject) => {\r\n        account.devices.list()\r\n        .then((resp) => resolve(resp) )\r\n        .catch((err) => reject(err) );          \r\n      })  \r\n\r\n   }\r\n\r\n\r\n\r\n   async get_device_id(select_value){//private method\r\n       const device_id = select_value.split(\",\")[0];console.log(device_id)\r\n       return device_id;\r\n   }\r\n\r\n\r\n\r\n   async get_select_content(){//private method\r\n       const select = document.getElementById(\"devices\");\r\n       let select_value = select.options[select.selectedIndex].value;\r\n       \r\n       return select_value;\r\n   }\r\n\r\n\r\n\r\n   async get_device_token(device_id){//private method\r\n       const device_token = await account.devices.paramList(device_id);\r\n       return device_token.find(param => param.key === \"device_token\").value;\r\n   }\r\n\r\n\r\n\r\n   async get_device_variables(){//public method\r\n       let select_value = await this.get_select_content();\r\n       let device_id = await this.get_device_id(select_value);\r\n       let device_token = await this.get_device_token(device_id);\r\n\r\n       const my_device = new Device({token: device_token });\r\n       const request = await my_device.getData({qty: 500});\r\n       \r\n  \r\n       return request;\r\n   }\r\n}\r\n\r\n"],"mappings":"shBAAA,aAA0BA,OAAO,CAAC,cAAc,CAAC,CAA1CC,OAAO,UAAPA,OAAO,CAAEC,MAAM,UAANA,MAAM,CACtB,GAAMC,QAAO,CAAG,GAAIF,QAAO,CAAC,CAACG,KAAK,CAAC,sCAAsC,CAAC,CAAC,CAE3E,UAAaC,YAAW,8MAEpB,qKAES,GAAIC,QAAO,CAAC,SAACC,OAAO,CAAEC,MAAM,CAAK,CACtCL,OAAO,CAACM,OAAO,CAACC,IAAI,EAAE,CACrBC,IAAI,CAAC,SAACC,IAAI,QAAKL,QAAO,CAACK,IAAI,CAAC,GAAE,CAC9BC,KAAK,CAAC,SAACC,GAAG,QAAKN,OAAM,CAACM,GAAG,CAAC,GAAE,CAC/B,CAAC,CAAC,wDAEJ,2LAID,kBAAoBC,YAAY,sIAAE;AACxBC,SAAS,CAAGD,YAAY,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC,kCAC5DA,SAAS,0DACnB,kOAID,kKAA2B;AACjBI,MAAM,CAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAC7CP,YAAY,CAAGK,MAAM,CAACG,OAAO,CAACH,MAAM,CAACI,aAAa,CAAC,CAACC,KAAK,kCAEtDV,YAAY,0DACtB,2OAID,kBAAuBC,SAAS,gKACDb,QAAO,CAACM,OAAO,CAACiB,SAAS,CAACV,SAAS,CAAC,QAAzDW,YAAY,iDACXA,YAAY,CAACC,IAAI,CAAC,SAAAC,KAAK,QAAIA,MAAK,CAACC,GAAG,GAAK,cAAc,GAAC,CAACL,KAAK,0DACxE,gPAID,2NAC6B,KAAI,CAACM,kBAAkB,EAAE,QAA9ChB,YAAY,uCACM,KAAI,CAACiB,aAAa,CAACjB,YAAY,CAAC,QAAlDC,SAAS,uCACY,KAAI,CAACiB,gBAAgB,CAACjB,SAAS,CAAC,QAArDW,YAAY,gBAEVO,SAAS,CAAG,GAAIhC,OAAM,CAAC,CAACE,KAAK,CAAEuB,YAAa,CAAC,CAAC,yBAC9BO,UAAS,CAACC,OAAO,CAAC,CAACC,GAAG,CAAE,GAAG,CAAC,CAAC,SAA7CC,OAAO,iDAGNA,OAAO,gEACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}