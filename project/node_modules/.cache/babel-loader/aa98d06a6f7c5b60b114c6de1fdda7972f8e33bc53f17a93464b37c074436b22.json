{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isOldStructure = exports.convert = void 0;\nfunction convert(oldWidget) {\n  var oldDisplay = oldWidget.display || {};\n  var newStructure = {\n    dashboard: oldWidget.dashboard,\n    display: {\n      buttons: (oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.buttons) || [],\n      bypass_bucket: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.bypass_bucket,\n      header_buttons: oldDisplay.header_buttons || [],\n      help: oldDisplay.help || \"\",\n      message_variable: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.message_variable,\n      play_audio: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.play_audio),\n      send_run_user: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.send_run_user),\n      show_asterisk: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.show_asterisk),\n      show_digits_bar: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.show_digits_bar),\n      show_last_column: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.show_last_column),\n      show_last_row: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.show_last_row),\n      show_number_sign: !!(oldDisplay !== null && oldDisplay !== void 0 && oldDisplay.show_number_sign),\n      theme: {\n        color: {\n          background: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.main_color,\n          click: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.click_color,\n          header: null\n        }\n      }\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"keypad\"\n  };\n  if (Array.isArray(oldWidget.data)) {\n    newStructure.data = oldWidget.data;\n  }\n  return newStructure;\n}\nexports.convert = convert;\nfunction isOldStructure(widget) {\n  var _widget$display, _widget$display2;\n  var isOld = !!((widget === null || widget === void 0 ? void 0 : (_widget$display = widget.display) === null || _widget$display === void 0 ? void 0 : _widget$display.watermark) !== undefined || widget !== null && widget !== void 0 && (_widget$display2 = widget.display) !== null && _widget$display2 !== void 0 && _widget$display2.click_color);\n  return isOld;\n}\nexports.isOldStructure = isOldStructure;","map":{"version":3,"mappings":";;;;;;AAMA,SAAgBA,OAAO,CAACC,SAAc;EACpC,IAAMC,UAAU,GAAGD,SAAS,CAACE,OAAO,IAAI,EAAE;EAE1C,IAAMC,YAAY,GAAQ;IACxBC,SAAS,EAAEJ,SAAS,CAACI,SAAS;IAC9BF,OAAO,EAAE;MACPG,OAAO,EAAE,WAAU,aAAVJ,UAAU,uBAAVA,UAAU,CAAEI,OAAO,KAAI,EAAE;MAClCC,aAAa,EAAEL,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEK,aAAa;MACxCC,cAAc,EAAEN,UAAU,CAACM,cAAc,IAAI,EAAE;MAC/CC,IAAI,EAAEP,UAAU,CAACO,IAAI,IAAI,EAAE;MAC3BC,gBAAgB,EAAER,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEQ,gBAAgB;MAC9CC,UAAU,EAAE,CAAC,EAACT,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAES,UAAU;MACpCC,aAAa,EAAE,CAAC,EAACV,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEU,aAAa;MAC1CC,aAAa,EAAE,CAAC,EAACX,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEW,aAAa;MAC1CC,eAAe,EAAE,CAAC,EAACZ,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEY,eAAe;MAC9CC,gBAAgB,EAAE,CAAC,EAACb,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEa,gBAAgB;MAChDC,aAAa,EAAE,CAAC,EAACd,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEc,aAAa;MAC1CC,gBAAgB,EAAE,CAAC,EAACf,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEe,gBAAgB;MAChDC,KAAK,EAAE;QACLC,KAAK,EAAE;UACLC,UAAU,EAAElB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEmB,UAAU;UAClCC,KAAK,EAAEpB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEqB,WAAW;UAC9BC,MAAM,EAAE;;;KAGb;IACDC,EAAE,EAAExB,SAAS,CAACwB,EAAE;IAChBC,KAAK,EAAEzB,SAAS,CAACyB,KAAK;IACtBC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;GACP;EAED,IAAIC,KAAK,CAACC,OAAO,CAAC7B,SAAS,CAAC8B,IAAI,CAAC,EAAE;IACjC3B,YAAY,CAAC2B,IAAI,GAAG9B,SAAS,CAAC8B,IAAI;;EAEpC,OAAO3B,YAAY;AACrB;AApCA4B;AAsCA,SAAgBC,cAAc,CAACC,MAAW;EAAA;EACxC,IAAMC,KAAK,GAAG,CAAC,EAAE,OAAM,aAAND,MAAM,0CAANA,MAAM,CAAE/B,OAAO,oDAAf,gBAAiBiC,SAAS,MAAKC,SAAS,IAAIH,MAAM,aAANA,MAAM,mCAANA,MAAM,CAAE/B,OAAO,6CAAf,iBAAiBoB,WAAW,CAAC;EAE1F,OAAOY,KAAK;AACd;AAJAH","names":["convert","oldWidget","oldDisplay","display","newStructure","dashboard","buttons","bypass_bucket","header_buttons","help","message_variable","play_audio","send_run_user","show_asterisk","show_digits_bar","show_last_column","show_last_row","show_number_sign","theme","color","background","main_color","click","click_color","header","id","label","realtime","type","Array","isArray","data","exports","isOldStructure","widget","isOld","watermark","undefined"],"sources":["C:\\Users\\yudji\\OneDrive\\Documentos\\SGA\\WIDGETS\\custom_widgets\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\keypad.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\n// * What is this file?\n//     Migration of old KEYPAD to new KEYPAD\n// ? ====================================================================================\nimport { WidgetInfo } from \"../Account/dashboards.types\";\n\nexport function convert(oldWidget: any): WidgetInfo {\n  const oldDisplay = oldWidget.display || {};\n\n  const newStructure: any = {\n    dashboard: oldWidget.dashboard,\n    display: {\n      buttons: oldDisplay?.buttons || [],\n      bypass_bucket: oldDisplay?.bypass_bucket,\n      header_buttons: oldDisplay.header_buttons || [],\n      help: oldDisplay.help || \"\",\n      message_variable: oldDisplay?.message_variable,\n      play_audio: !!oldDisplay?.play_audio,\n      send_run_user: !!oldDisplay?.send_run_user,\n      show_asterisk: !!oldDisplay?.show_asterisk,\n      show_digits_bar: !!oldDisplay?.show_digits_bar,\n      show_last_column: !!oldDisplay?.show_last_column,\n      show_last_row: !!oldDisplay?.show_last_row,\n      show_number_sign: !!oldDisplay?.show_number_sign,\n      theme: {\n        color: {\n          background: oldDisplay?.main_color,\n          click: oldDisplay?.click_color,\n          header: null,\n        },\n      },\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"keypad\",\n  };\n\n  if (Array.isArray(oldWidget.data)) {\n    newStructure.data = oldWidget.data;\n  }\n  return newStructure;\n}\n\nexport function isOldStructure(widget: any) {\n  const isOld = !!(widget?.display?.watermark !== undefined || widget?.display?.click_color);\n\n  return isOld;\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}