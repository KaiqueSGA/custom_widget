{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import React,{useEffect,useState}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require('@tago-io/sdk'),Account=_require.Account,Device=_require.Device,Services=_require.Services;var notify=function notify(message){return toast.success(message);};var error=function error(message){return toast.error(message);};function App(){var account=new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});var my_device=new Device({token:\"1604825b-a5ea-4217-a359-3b0a1ce3232f\"});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),arrayOfdevices=_useState2[0],setArray=_useState2[1];function listdevices(){return _listdevices.apply(this,arguments);}function _listdevices(){_listdevices=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var list_response,esn_variables;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return account.analysis.list();case 2:list_response=_context.sent;_context.next=5;return account.analysis.run(\"642474606f1fa600090faf53\");case 5:_context.next=7;return my_device.getData({qty:200});case 7:esn_variables=_context.sent.filter(function(obj){return obj.variable===\"esn\";});case 8:case\"end\":return _context.stop();}}},_callee);}));return _listdevices.apply(this,arguments);}window.TagoIO.onStart(function(widget){window.widget=widget;});window.TagoIO.ready();return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cabecalho\",children:/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Enviar Comando\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldOfSelection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" label_dev\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"drop\",alt:\"\",src:\"https://img.icons8.com/external-zen-filled-royyan-wijaya/2x/external-list-dropdown-business-zen-filled-royyan-wijaya.png\"}),/*#__PURE__*/_jsx(\"div\",{className:\"title_label\",children:\"Select the device to configure it\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"select\",{id:\"devices\",className:\"devices\",children:arrayOfdevices.map(function(item){try{return/*#__PURE__*/_jsxs(\"option\",{value:\"\".concat(item.id,\",\").concat(item.name),children:[\" \",item.name,\" \"]});}catch(err){error(err);}})})}),/*#__PURE__*/_jsx(\"div\",{className:\"rodape\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return listdevices();},children:\"Sent MQTT Message\"})})]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","ToastContainer","toast","require","Account","Device","Services","notify","message","success","error","App","account","token","my_device","arrayOfdevices","setArray","listdevices","analysis","list","list_response","run","getData","qty","esn_variables","filter","obj","variable","window","TagoIO","onStart","widget","ready","map","item","id","name","err"],"sources":["C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/src/App.js"],"sourcesContent":["import './App.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst {Account, Device, Services} = require('@tago-io/sdk'); \r\n\r\n    \r\n    const notify = (message) => toast.success(message);\r\n    const error = (message) => toast.error(message) \r\n    \r\n\r\nfunction App() {\r\n   const account = new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});\r\n   const my_device = new Device({token:\"1604825b-a5ea-4217-a359-3b0a1ce3232f\"});\r\n\r\n   const [arrayOfdevices,setArray] = useState([]);\r\n\r\n    async function listdevices(){\r\n\r\n         let list_response =  await account.analysis.list();\r\n         await account.analysis.run(\"642474606f1fa600090faf53\")\r\n         const esn_variables = (await my_device.getData({ qty: 200 })).filter(obj => obj.variable === \"esn\")//a cada 100 variáveis eu tenho uma média de 16 variáveis ESN\r\n       \r\n       }\r\n\r\n   \r\n        window.TagoIO.onStart((widget) => {\r\n            window.widget = widget;\r\n        })\r\n        window.TagoIO.ready();\r\n\r\n\r\n\r\n        return(\r\n             <div className=\"container\">\r\n                <ToastContainer />\r\n                    <div className=\"box\">\r\n                        \r\n                        <div className =\"cabecalho\">\r\n                            <div className =\"title\">Enviar Comando</div>\r\n                        </div>\r\n                        \r\n                        \r\n                        <div className =\"fieldOfSelection\">\r\n                \r\n                            <div className=\" label_dev\">\r\n                                <img className =\"drop\" alt='' src=\"https://img.icons8.com/external-zen-filled-royyan-wijaya/2x/external-list-dropdown-business-zen-filled-royyan-wijaya.png\" />\r\n                                <div className =\"title_label\">Select the device to configure it</div> \r\n                            </div>\r\n                \r\n                \r\n                              <div className=\"input\">\r\n                                    <select id=\"devices\" className =\"devices\">\r\n                                    {arrayOfdevices.map((item) =>{\r\n                                        try{\r\n                                            return(\r\n                                                <option value={`${item.id},${item.name}`}> {item.name} </option>\r\n                                            )\r\n                                        }catch(err){\r\n                                           error(err)\r\n                                        }\r\n                                      \r\n                                    })}\r\n                                    </select>\r\n                                </div>  \r\n                                \r\n                \r\n                            \r\n                \r\n                            <div className=\"rodape\">\r\n                                 <button className=\"button\" onClick={() => listdevices()}>\r\n                                    Sent MQTT Message\r\n                                </button> \r\n                            </div>\r\n                \r\n                \r\n                        </div>\r\n                        \r\n                    \r\n                \r\n                    </div>  \r\n                    \r\n                   \r\n                </div>\r\n           \r\n        )\r\n}\r\n\r\nexport default App;"],"mappings":"ieAAA,MAAO,WAAW,CAClB,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,wFAC/C,aAAoCC,OAAO,CAAC,cAAc,CAAC,CAApDC,OAAO,UAAPA,OAAO,CAAEC,MAAM,UAANA,MAAM,CAAEC,QAAQ,UAARA,QAAQ,CAG5B,GAAMC,OAAM,CAAG,QAATA,OAAM,CAAIC,OAAO,QAAKN,MAAK,CAACO,OAAO,CAACD,OAAO,CAAC,GAClD,GAAME,MAAK,CAAG,QAARA,MAAK,CAAIF,OAAO,QAAKN,MAAK,CAACQ,KAAK,CAACF,OAAO,CAAC,GAGnD,QAASG,IAAG,EAAG,CACZ,GAAMC,QAAO,CAAG,GAAIR,QAAO,CAAC,CAACS,KAAK,CAAC,sCAAsC,CAAC,CAAC,CAC3E,GAAMC,UAAS,CAAG,GAAIT,OAAM,CAAC,CAACQ,KAAK,CAAC,sCAAsC,CAAC,CAAC,CAE5E,cAAkCb,QAAQ,CAAC,EAAE,CAAC,wCAAvCe,cAAc,eAACC,QAAQ,eAAiB,QAE/BC,YAAW,6IAA1B,2LAEgCL,QAAO,CAACM,QAAQ,CAACC,IAAI,EAAE,QAA9CC,aAAa,qCACXR,QAAO,CAACM,QAAQ,CAACG,GAAG,CAAC,0BAA0B,CAAC,8BACzBP,UAAS,CAACQ,OAAO,CAAC,CAAEC,GAAG,CAAE,GAAI,CAAC,CAAC,QAAtDC,aAAa,eAA2CC,MAAM,CAAC,SAAAC,GAAG,QAAIA,IAAG,CAACC,QAAQ,GAAK,KAAK,0DAEnG,8CAGAC,MAAM,CAACC,MAAM,CAACC,OAAO,CAAC,SAACC,MAAM,CAAK,CAC9BH,MAAM,CAACG,MAAM,CAAGA,MAAM,CAC1B,CAAC,CAAC,CACFH,MAAM,CAACC,MAAM,CAACG,KAAK,EAAE,CAIrB,mBACK,aAAK,SAAS,CAAC,WAAW,wBACvB,KAAC,cAAc,IAAG,cACd,aAAK,SAAS,CAAC,KAAK,wBAEhB,YAAK,SAAS,CAAE,WAAW,uBACvB,YAAK,SAAS,CAAE,OAAO,4BAAqB,EAC1C,cAGN,aAAK,SAAS,CAAE,kBAAkB,wBAE9B,aAAK,SAAS,CAAC,YAAY,wBACvB,YAAK,SAAS,CAAE,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,0HAA0H,EAAG,cAC/J,YAAK,SAAS,CAAE,aAAa,+CAAwC,GACnE,cAGJ,YAAK,SAAS,CAAC,OAAO,uBAChB,eAAQ,EAAE,CAAC,SAAS,CAAC,SAAS,CAAE,SAAS,UACxCjB,cAAc,CAACkB,GAAG,CAAC,SAACC,IAAI,CAAI,CACzB,GAAG,CACC,mBACI,gBAAQ,KAAK,WAAKA,IAAI,CAACC,EAAE,aAAID,IAAI,CAACE,IAAI,CAAG,eAAGF,IAAI,CAACE,IAAI,OAAW,CAExE,CAAC,MAAMC,GAAG,CAAC,CACR3B,KAAK,CAAC2B,GAAG,CAAC,CACb,CAEJ,CAAC,CAAC,EACO,EACP,cAKV,YAAK,SAAS,CAAC,QAAQ,uBAClB,eAAQ,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMpB,YAAW,EAAE,EAAC,+BAEhD,EACP,GAGJ,GAIJ,GAGJ,CAGtB,CAEA,cAAeN,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}