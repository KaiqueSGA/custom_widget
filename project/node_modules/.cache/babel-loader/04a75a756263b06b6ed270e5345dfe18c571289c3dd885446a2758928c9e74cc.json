{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nconst Access_1 = __importDefault(require(\"./Access\"));\nconst Actions_1 = __importDefault(require(\"./Actions\"));\nconst Analyses_1 = __importDefault(require(\"./Analyses\"));\nconst Billing_1 = __importDefault(require(\"./Billing\"));\nconst Buckets_1 = __importDefault(require(\"./Buckets\"));\nconst Dashboards_1 = __importDefault(require(\"./Dashboards\"));\nconst Devices_1 = __importDefault(require(\"./Devices\"));\nconst Dictionaries_1 = __importDefault(require(\"./Dictionaries\"));\nconst Explore_1 = __importDefault(require(\"./Explore\"));\nconst Files_1 = __importDefault(require(\"./Files\"));\nconst Notifications_1 = __importDefault(require(\"./Notifications\"));\nconst PaymentHistory_1 = __importDefault(require(\"./PaymentHistory\"));\nconst PaymentMethods_1 = __importDefault(require(\"./PaymentMethods\"));\nconst Plan_1 = __importDefault(require(\"./Plan\"));\nconst Profile_1 = __importDefault(require(\"./Profile\"));\nconst Run_1 = __importDefault(require(\"./Run\"));\nconst ServiceAuthorization_1 = __importDefault(require(\"./ServiceAuthorization\"));\nconst Tags_1 = __importDefault(require(\"./Tags\"));\nconst Template_1 = __importDefault(require(\"./Template\"));\nconst Integration_1 = __importDefault(require(\"./Integration\"));\nconst dateParser_1 = __importDefault(require(\"../Utils/dateParser\"));\nconst TagoCores_1 = __importDefault(require(\"./TagoCores\"));\n/**\r\n * To set up an account object, you need a token that you need to get from our\r\n * admin website and the region. Make sure to use tokens with the correct\r\n * write/read privileges for the current function that you want to use.\r\n *\r\n * @class Account\r\n * @extends {TagoIOModule<GenericModuleParams>}\r\n */\nclass Account extends TagoIOModule_1.default {\n  constructor() {\n    super(...arguments);\n    /**\r\n     * Manage actions in account.\r\n     * Be sure to use an account token with “write” permissions when\r\n     * using functions like create, edit and delete.\r\n     */\n    this.actions = new Actions_1.default(this.params);\n    /**\r\n     * Manage analysis in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.analysis = new Analyses_1.default(this.params);\n    /**\r\n     * Manage buckets in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.buckets = new Buckets_1.default(this.params);\n    /**\r\n     * Manage files in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.files = new Files_1.default(this.params);\n    /**\r\n     * Manage dashboards in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.dashboards = new Dashboards_1.default(this.params);\n    /**\r\n     * Manage devices in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.devices = new Devices_1.default(this.params);\n    /**\r\n     * Manage dictionaries in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.dictionaries = new Dictionaries_1.default(this.params);\n    /**\r\n     * Manage Billing for the account.\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.billing = new Billing_1.default(this.params);\n    /**\r\n     * Manage notifications in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.notifications = new Notifications_1.default(this.params);\n    /**\r\n     * Manage tags in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.tags = new Tags_1.default(this.params);\n    /**\r\n     * Manage payment methods in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.paymentMethods = new PaymentMethods_1.default(this.params);\n    /**\r\n     * Manage account plans\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.plan = new Plan_1.default(this.params);\n    /**\r\n     * Manage payment history in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.paymentHistory = new PaymentHistory_1.default(this.params);\n    /**\r\n     * Manage explore in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.explore = new Explore_1.default(this.params);\n    /**\r\n     * Manage connectors in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.integration = new Integration_1.default(this.params);\n    /**\r\n     * Manage templates in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.template = new Template_1.default(this.params);\n    /**\r\n     * Manage access in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.accessManagement = new Access_1.default(this.params);\n    /**\r\n     * Manage run apps in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     *\r\n     */\n    this.run = new Run_1.default(this.params);\n    /**\r\n     * Manage services in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.ServiceAuthorization = new ServiceAuthorization_1.default(this.params);\n    /**\r\n     * Manage profiles in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.profiles = new Profile_1.default(this.params);\n    /**\r\n     * Manage tagocores in account\r\n     * Be sure to use an account token with “write” permissions when using\r\n     * functions like create, edit and delete.\r\n     */\n    this.tagocores = new TagoCores_1.default(this.params);\n  }\n  /**\r\n   * Gets all account information\r\n   */\n  async info() {\n    let result = await this.doRequest({\n      path: \"/account\",\n      method: \"GET\"\n    });\n    result = (0, dateParser_1.default)(result, [\"created_at\", \"updated_at\", \"last_login\"]);\n    if (result.options) result.options = (0, dateParser_1.default)(result.options, [\"last_whats_new\"]);\n    return result;\n  }\n  /**\r\n   * Edit account\r\n   * @param accountObj Account data to edit\r\n   */\n  async edit(accountObj) {\n    const result = await this.doRequest({\n      path: \"/account\",\n      method: \"PUT\",\n      body: accountObj\n    });\n    return result;\n  }\n  /**\r\n   * Delete account\r\n   */\n  async delete() {\n    const result = await this.doRequest({\n      path: \"/account\",\n      method: \"DELETE\"\n    });\n    return result;\n  }\n  /**\r\n   * Generates and retrieves a new token for the account\r\n   * @param tokenParams Token data\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async tokenCreate(tokenParams, region) {\n    const params = {\n      path: \"/account/profile/token\",\n      method: \"POST\",\n      body: tokenParams\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Retrieve list of profiles for login and do Login\r\n   * @param credentials Credentials\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async login(credentials, region) {\n    const params = {\n      path: \"/account/login\",\n      method: \"POST\",\n      body: credentials\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Send password recover email\r\n   * @param email E-mail to recovery\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async passwordRecover(email, region) {\n    const params = {\n      path: `/account/passwordreset/${email}`,\n      method: \"GET\"\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Change account password\r\n   * @param password New Password\r\n   */\n  async passwordChange(password) {\n    const result = await this.doRequest({\n      path: `/account/passwordreset`,\n      method: \"POST\",\n      body: {\n        password\n      }\n    });\n    return result;\n  }\n  /**\r\n   * Create new TagoIO account\r\n   * @param createParams New account details\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async create(createParams, region) {\n    const params = {\n      path: `/account`,\n      method: \"POST\",\n      body: createParams\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   *  Re-send confirmation account email\r\n   * @param email E-mail address\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async resendConfirmation(email, region) {\n    const params = {\n      path: `/account/resend_confirmation/${email}`,\n      method: \"GET\"\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Confirm account creation\r\n   * @param token Confirmation token\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\n  static async confirmAccount(token, region) {\n    const params = {\n      path: `/account/confirm/${token}`,\n      method: \"GET\"\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Request the PIN Code for a given OTP Type.\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\n  static async requestLoginPINCode(credentials, typeOTP, region) {\n    const params = {\n      path: `/account/login/otp`,\n      method: \"POST\",\n      body: {\n        ...credentials,\n        otp_type: typeOTP\n      }\n    };\n    const result = await TagoIOModule_1.default.doRequestAnonymous(params, region);\n    return result;\n  }\n  /**\r\n   * Enable OTP for a given OTP Type.\r\n   * You will be requested to confirm the operation with a pin code.\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\n  async enableOTP(credentials, typeOTP) {\n    const result = await this.doRequest({\n      path: `/account/otp/${typeOTP}/enable`,\n      method: \"POST\",\n      body: credentials\n    });\n    return result;\n  }\n  /**\r\n   * Enable OTP for a given OTP Type\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\n  async disableOTP(credentials, typeOTP) {\n    const result = await this.doRequest({\n      path: `/account/otp/${typeOTP}/disable`,\n      method: \"POST\",\n      body: credentials\n    });\n    return result;\n  }\n  /**\r\n   * Confirm OTP enabling process for a given OTP Type\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\n  async confirmOTP(pinCode, typeOTP) {\n    const result = await this.doRequest({\n      path: `/account/otp/${typeOTP}/confirm`,\n      method: \"POST\",\n      body: {\n        pin_code: pinCode\n      }\n    });\n    return result;\n  }\n}\nexports.default = Account;","map":{"version":3,"mappings":";;;;;;;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;;;;;;;;AAQA,MAAMA,OAAQ,SAAQC,sBAAiC;EAAvDC;;IAsOE;;;;;IAKO,YAAO,GAAG,IAAIC,iBAAO,CAAC,IAAI,CAACC,MAAM,CAAC;IAEzC;;;;;IAKO,aAAQ,GAAG,IAAIC,kBAAQ,CAAC,IAAI,CAACD,MAAM,CAAC;IAE3C;;;;;IAKO,YAAO,GAAG,IAAIE,iBAAO,CAAC,IAAI,CAACF,MAAM,CAAC;IAEzC;;;;;IAKO,UAAK,GAAG,IAAIG,eAAK,CAAC,IAAI,CAACH,MAAM,CAAC;IAErC;;;;;IAKO,eAAU,GAAG,IAAII,oBAAU,CAAC,IAAI,CAACJ,MAAM,CAAC;IAE/C;;;;;IAKO,YAAO,GAAG,IAAIK,iBAAO,CAAC,IAAI,CAACL,MAAM,CAAC;IAEzC;;;;;IAKO,iBAAY,GAAG,IAAIM,sBAAY,CAAC,IAAI,CAACN,MAAM,CAAC;IAEnD;;;;;IAKO,YAAO,GAAG,IAAIO,iBAAO,CAAC,IAAI,CAACP,MAAM,CAAC;IAEzC;;;;;IAKO,kBAAa,GAAG,IAAIQ,uBAAa,CAAC,IAAI,CAACR,MAAM,CAAC;IAErD;;;;;IAKO,SAAI,GAAG,IAAIS,cAAI,CAAC,IAAI,CAACT,MAAM,CAAC;IAEnC;;;;;IAKO,mBAAc,GAAG,IAAIU,wBAAc,CAAC,IAAI,CAACV,MAAM,CAAC;IAEvD;;;;;IAKO,SAAI,GAAG,IAAIW,cAAI,CAAC,IAAI,CAACX,MAAM,CAAC;IACnC;;;;;IAKO,mBAAc,GAAG,IAAIY,wBAAc,CAAC,IAAI,CAACZ,MAAM,CAAC;IAEvD;;;;;IAKO,YAAO,GAAG,IAAIa,iBAAO,CAAC,IAAI,CAACb,MAAM,CAAC;IAEzC;;;;;IAKO,gBAAW,GAAG,IAAIc,qBAAW,CAAC,IAAI,CAACd,MAAM,CAAC;IAEjD;;;;;IAKO,aAAQ,GAAG,IAAIe,kBAAQ,CAAC,IAAI,CAACf,MAAM,CAAC;IAE3C;;;;;IAKO,qBAAgB,GAAG,IAAIgB,gBAAM,CAAC,IAAI,CAAChB,MAAM,CAAC;IAEjD;;;;;;IAMO,QAAG,GAAG,IAAIiB,aAAG,CAAC,IAAI,CAACjB,MAAM,CAAC;IAEjC;;;;;IAKO,yBAAoB,GAAG,IAAIkB,8BAAoB,CAAC,IAAI,CAAClB,MAAM,CAAC;IAEnE;;;;;IAKO,aAAQ,GAAG,IAAImB,iBAAO,CAAC,IAAI,CAACnB,MAAM,CAAC;IAE1C;;;;;IAKO,cAAS,GAAG,IAAIoB,mBAAS,CAAC,IAAI,CAACpB,MAAM,CAAC;EAC/C;EAvXE;;;EAGO,MAAMqB,IAAI;IACf,IAAIC,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAc;MAC7CC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE;KACT,CAAC;IAEFH,MAAM,GAAG,wBAAU,EAACA,MAAM,EAAE,CAAC,YAAY,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;IAEvE,IAAIA,MAAM,CAACI,OAAO,EAAEJ,MAAM,CAACI,OAAO,GAAG,wBAAU,EAACJ,MAAM,CAACI,OAAO,EAAE,CAAC,gBAAgB,CAAC,CAAC;IAEnF,OAAOJ,MAAM;EACf;EAEA;;;;EAIO,MAAMK,IAAI,CAACC,UAAgC;IAChD,MAAMN,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE,KAAK;MACbI,IAAI,EAAED;KACP,CAAC;IAEF,OAAON,MAAM;EACf;EAEA;;;EAGO,MAAMQ,MAAM;IACjB,MAAMR,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE;KACT,CAAC;IAEF,OAAOH,MAAM;EACf;EAEA;;;;;EAKO,aAAaS,WAAW,CAACC,WAA4B,EAAEC,MAAgB;IAC5E,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,wBAAwB;MAC9BC,MAAM,EAAE,MAAM;MACdI,IAAI,EAAEG;KACP;IAED,MAAMV,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAA0BlC,MAAM,EAAEiC,MAAM,CAAC;IAE7F,OAAOX,MAAM;EACf;EAEA;;;;;EAKO,aAAaa,KAAK,CACvBC,WAAgD,EAChDH,MAAgB;IAEhB,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,gBAAgB;MACtBC,MAAM,EAAE,MAAM;MACdI,IAAI,EAAEO;KACP;IAED,MAAMd,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAAgBlC,MAAM,EAAEiC,MAAM,CAAC;IAEnF,OAAOX,MAAM;EACf;EAEA;;;;;EAKO,aAAae,eAAe,CAACC,KAAa,EAAEL,MAAgB;IACjE,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,0BAA0Bc,KAAK,EAAE;MACvCb,MAAM,EAAE;KACT;IAED,MAAMH,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAASlC,MAAM,EAAEiC,MAAM,CAAC;IAE5E,OAAOX,MAAM;EACf;EAEA;;;;EAIO,MAAMiB,cAAc,CAACC,QAAgB;IAC1C,MAAMlB,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,wBAAwB;MAC9BC,MAAM,EAAE,MAAM;MACdI,IAAI,EAAE;QACJW;;KAEH,CAAC;IAEF,OAAOlB,MAAM;EACf;EAEA;;;;;EAKO,aAAamB,MAAM,CAACC,YAA+B,EAAET,MAAgB;IAC1E,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,UAAU;MAChBC,MAAM,EAAE,MAAM;MACdI,IAAI,EAAEa;KACP;IAED,MAAMpB,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAASlC,MAAM,EAAEiC,MAAM,CAAC;IAE5E,OAAOX,MAAM;EACf;EAEA;;;;;EAKO,aAAaqB,kBAAkB,CAACL,KAAa,EAAEL,MAAgB;IACpE,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,gCAAgCc,KAAK,EAAE;MAC7Cb,MAAM,EAAE;KACT;IAED,MAAMH,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAASlC,MAAM,EAAEiC,MAAM,CAAC;IAE5E,OAAOX,MAAM;EACf;EAEA;;;;;EAKO,aAAasB,cAAc,CAACC,KAAmB,EAAEZ,MAAgB;IACtE,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,oBAAoBqB,KAAK,EAAE;MACjCpB,MAAM,EAAE;KACT;IAED,MAAMH,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAASlC,MAAM,EAAEiC,MAAM,CAAC;IAE5E,OAAOX,MAAM;EACf;EAEA;;;;;EAKO,aAAawB,mBAAmB,CACrCV,WAAgD,EAChDW,OAAgB,EAChBd,MAAgB;IAEhB,MAAMjC,MAAM,GAAoB;MAC9BwB,IAAI,EAAE,oBAAoB;MAC1BC,MAAM,EAAE,MAAM;MACdI,IAAI,EAAE;QAAE,GAAGO,WAAW;QAAEY,QAAQ,EAAED;MAAO;KAC1C;IAED,MAAMzB,MAAM,GAAG,MAAMzB,sBAAY,CAACqC,kBAAkB,CAASlC,MAAM,EAAEiC,MAAM,CAAC;IAE5E,OAAOX,MAAM;EACf;EAEA;;;;;;EAMO,MAAM2B,SAAS,CAACb,WAAgD,EAAEW,OAAgB;IACvF,MAAMzB,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,gBAAgBuB,OAAO,SAAS;MACtCtB,MAAM,EAAE,MAAM;MACdI,IAAI,EAAEO;KACP,CAAC;IAEF,OAAOd,MAAM;EACf;EAEA;;;;;EAKO,MAAM4B,UAAU,CAACd,WAAgD,EAAEW,OAAgB;IACxF,MAAMzB,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,gBAAgBuB,OAAO,UAAU;MACvCtB,MAAM,EAAE,MAAM;MACdI,IAAI,EAAEO;KACP,CAAC;IAEF,OAAOd,MAAM;EACf;EAEA;;;;;EAKO,MAAM6B,UAAU,CAACC,OAAe,EAAEL,OAAgB;IACvD,MAAMzB,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,gBAAgBuB,OAAO,UAAU;MACvCtB,MAAM,EAAE,MAAM;MACdI,IAAI,EAAE;QACJwB,QAAQ,EAAED;;KAEb,CAAC;IAEF,OAAO9B,MAAM;EACf;;AAsJFgC,kBAAe1D,OAAO","names":["Account","TagoIOModule_1","constructor","Actions_1","params","Analyses_1","Buckets_1","Files_1","Dashboards_1","Devices_1","Dictionaries_1","Billing_1","Notifications_1","Tags_1","PaymentMethods_1","Plan_1","PaymentHistory_1","Explore_1","Integration_1","Template_1","Access_1","Run_1","ServiceAuthorization_1","Profile_1","TagoCores_1","info","result","doRequest","path","method","options","edit","accountObj","body","delete","tokenCreate","tokenParams","region","doRequestAnonymous","login","credentials","passwordRecover","email","passwordChange","password","create","createParams","resendConfirmation","confirmAccount","token","requestLoginPINCode","typeOTP","otp_type","enableOTP","disableOTP","confirmOTP","pinCode","pin_code","exports"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Account\\Account.ts"],"sourcesContent":["import { GenericToken } from \"../../common/common.types\";\r\nimport TagoIOModule, { GenericModuleParams, doRequestParams } from \"../../common/TagoIOModule\";\r\nimport Access from \"./Access\";\r\nimport { AccountCreateInfo, AccountInfo, LoginResponse, OTPType, TokenCreateInfo } from \"./account.types\";\r\nimport Actions from \"./Actions\";\r\nimport Analyses from \"./Analyses\";\r\nimport Billing from \"./Billing\";\r\nimport Buckets from \"./Buckets\";\r\nimport Dashboards from \"./Dashboards\";\r\nimport Devices from \"./Devices\";\r\nimport Dictionaries from \"./Dictionaries\";\r\nimport Explore from \"./Explore\";\r\nimport Files from \"./Files\";\r\nimport Notifications from \"./Notifications\";\r\nimport PaymentHistory from \"./PaymentHistory\";\r\nimport PaymentMethods from \"./PaymentMethods\";\r\nimport Plan from \"./Plan\";\r\nimport Profile from \"./Profile\";\r\nimport Run from \"./Run\";\r\nimport ServiceAuthorization from \"./ServiceAuthorization\";\r\nimport Tags from \"./Tags\";\r\nimport Template from \"./Template\";\r\nimport { Regions } from \"../../regions\";\r\nimport Integration from \"./Integration\";\r\nimport dateParser from \"../Utils/dateParser\";\r\nimport TagoCores from \"./TagoCores\";\r\n\r\n/**\r\n * To set up an account object, you need a token that you need to get from our\r\n * admin website and the region. Make sure to use tokens with the correct\r\n * write/read privileges for the current function that you want to use.\r\n *\r\n * @class Account\r\n * @extends {TagoIOModule<GenericModuleParams>}\r\n */\r\nclass Account extends TagoIOModule<GenericModuleParams> {\r\n  /**\r\n   * Gets all account information\r\n   */\r\n  public async info(): Promise<AccountInfo> {\r\n    let result = await this.doRequest<AccountInfo>({\r\n      path: \"/account\",\r\n      method: \"GET\",\r\n    });\r\n\r\n    result = dateParser(result, [\"created_at\", \"updated_at\", \"last_login\"]);\r\n\r\n    if (result.options) result.options = dateParser(result.options, [\"last_whats_new\"]);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Edit account\r\n   * @param accountObj Account data to edit\r\n   */\r\n  public async edit(accountObj: Partial<AccountInfo>): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: \"/account\",\r\n      method: \"PUT\",\r\n      body: accountObj,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Delete account\r\n   */\r\n  public async delete(): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: \"/account\",\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Generates and retrieves a new token for the account\r\n   * @param tokenParams Token data\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async tokenCreate(tokenParams: TokenCreateInfo, region?: Regions): Promise<{ token: GenericToken }> {\r\n    const params: doRequestParams = {\r\n      path: \"/account/profile/token\",\r\n      method: \"POST\",\r\n      body: tokenParams,\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<{ token: GenericToken }>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Retrieve list of profiles for login and do Login\r\n   * @param credentials Credentials\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async login(\r\n    credentials: { email: string; password: string },\r\n    region?: Regions\r\n  ): Promise<LoginResponse> {\r\n    const params: doRequestParams = {\r\n      path: \"/account/login\",\r\n      method: \"POST\",\r\n      body: credentials,\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<LoginResponse>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Send password recover email\r\n   * @param email E-mail to recovery\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async passwordRecover(email: string, region?: Regions): Promise<string> {\r\n    const params: doRequestParams = {\r\n      path: `/account/passwordreset/${email}`,\r\n      method: \"GET\",\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<string>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Change account password\r\n   * @param password New Password\r\n   */\r\n  public async passwordChange(password: string): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/account/passwordreset`,\r\n      method: \"POST\",\r\n      body: {\r\n        password,\r\n      },\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Create new TagoIO account\r\n   * @param createParams New account details\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async create(createParams: AccountCreateInfo, region?: Regions): Promise<string> {\r\n    const params: doRequestParams = {\r\n      path: `/account`,\r\n      method: \"POST\",\r\n      body: createParams,\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<string>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   *  Re-send confirmation account email\r\n   * @param email E-mail address\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async resendConfirmation(email: string, region?: Regions): Promise<string> {\r\n    const params: doRequestParams = {\r\n      path: `/account/resend_confirmation/${email}`,\r\n      method: \"GET\",\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<string>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Confirm account creation\r\n   * @param token Confirmation token\r\n   * @param region TagoIO Region Server [default usa-1]\r\n   */\r\n  public static async confirmAccount(token: GenericToken, region?: Regions): Promise<string> {\r\n    const params: doRequestParams = {\r\n      path: `/account/confirm/${token}`,\r\n      method: \"GET\",\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<string>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Request the PIN Code for a given OTP Type.\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\r\n  public static async requestLoginPINCode(\r\n    credentials: { email: string; password: string },\r\n    typeOTP: OTPType,\r\n    region?: Regions\r\n  ): Promise<string> {\r\n    const params: doRequestParams = {\r\n      path: `/account/login/otp`,\r\n      method: \"POST\",\r\n      body: { ...credentials, otp_type: typeOTP },\r\n    };\r\n\r\n    const result = await TagoIOModule.doRequestAnonymous<string>(params, region);\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Enable OTP for a given OTP Type.\r\n   * You will be requested to confirm the operation with a pin code.\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\r\n  public async enableOTP(credentials: { email: string; password: string }, typeOTP: OTPType): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/account/otp/${typeOTP}/enable`,\r\n      method: \"POST\",\r\n      body: credentials,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Enable OTP for a given OTP Type\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\r\n  public async disableOTP(credentials: { email: string; password: string }, typeOTP: OTPType): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/account/otp/${typeOTP}/disable`,\r\n      method: \"POST\",\r\n      body: credentials,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Confirm OTP enabling process for a given OTP Type\r\n   * @param credentials Credentials\r\n   * @param typeOTP authenticator, sms or email\r\n   */\r\n  public async confirmOTP(pinCode: string, typeOTP: OTPType): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/account/otp/${typeOTP}/confirm`,\r\n      method: \"POST\",\r\n      body: {\r\n        pin_code: pinCode,\r\n      },\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Manage actions in account.\r\n   * Be sure to use an account token with “write” permissions when\r\n   * using functions like create, edit and delete.\r\n   */\r\n  public actions = new Actions(this.params);\r\n\r\n  /**\r\n   * Manage analysis in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public analysis = new Analyses(this.params);\r\n\r\n  /**\r\n   * Manage buckets in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public buckets = new Buckets(this.params);\r\n\r\n  /**\r\n   * Manage files in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public files = new Files(this.params);\r\n\r\n  /**\r\n   * Manage dashboards in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public dashboards = new Dashboards(this.params);\r\n\r\n  /**\r\n   * Manage devices in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public devices = new Devices(this.params);\r\n\r\n  /**\r\n   * Manage dictionaries in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public dictionaries = new Dictionaries(this.params);\r\n\r\n  /**\r\n   * Manage Billing for the account.\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public billing = new Billing(this.params);\r\n\r\n  /**\r\n   * Manage notifications in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public notifications = new Notifications(this.params);\r\n\r\n  /**\r\n   * Manage tags in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public tags = new Tags(this.params);\r\n\r\n  /**\r\n   * Manage payment methods in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public paymentMethods = new PaymentMethods(this.params);\r\n\r\n  /**\r\n   * Manage account plans\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public plan = new Plan(this.params);\r\n  /**\r\n   * Manage payment history in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public paymentHistory = new PaymentHistory(this.params);\r\n\r\n  /**\r\n   * Manage explore in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public explore = new Explore(this.params);\r\n\r\n  /**\r\n   * Manage connectors in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public integration = new Integration(this.params);\r\n\r\n  /**\r\n   * Manage templates in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public template = new Template(this.params);\r\n\r\n  /**\r\n   * Manage access in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public accessManagement = new Access(this.params);\r\n\r\n  /**\r\n   * Manage run apps in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   *\r\n   */\r\n  public run = new Run(this.params);\r\n\r\n  /**\r\n   * Manage services in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public ServiceAuthorization = new ServiceAuthorization(this.params);\r\n\r\n  /**\r\n   * Manage profiles in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public profiles = new Profile(this.params);\r\n\r\n  /**\r\n   * Manage tagocores in account\r\n   * Be sure to use an account token with “write” permissions when using\r\n   * functions like create, edit and delete.\r\n   */\r\n  public tagocores = new TagoCores(this.params);\r\n}\r\n\r\nexport default Account;\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}