{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst axios_1 = __importDefault(require(\"axios\"));\nconst TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nclass PDFService extends TagoIOModule_1.default {\n  /**\r\n   * Generate a PDF from html, url or base64\r\n   *\r\n   */\n  async generate(params) {\n    try {\n      const result = await (0, axios_1.default)({\n        method: \"POST\",\n        url: \"https://pdf.middleware.tago.io\",\n        data: params,\n        headers: {\n          token: this.params.token\n        }\n      });\n      return result?.data;\n    } catch (error) {\n      return Promise.reject(error?.response?.data || {\n        result: false,\n        stuats: \"unknown error\"\n      });\n    }\n  }\n}\nexports.default = PDFService;","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AACA;AA2HA,MAAMA,UAAW,SAAQC,sBAAiC;EACxD;;;;EAIO,MAAMC,QAAQ,CAACC,MAAiB;IACrC,IAAI;MACF,MAAMC,MAAM,GAAG,MAAM,mBAAK,EAAC;QACzBC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,gCAAgC;QACrCC,IAAI,EAAEJ,MAAM;QACZK,OAAO,EAAE;UACPC,KAAK,EAAE,IAAI,CAACN,MAAM,CAACM;;OAEtB,CAAC;MAEF,OAAOL,MAAM,EAAEG,IAAI;KACpB,CAAC,OAAOG,KAAK,EAAE;MACd,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,EAAEG,QAAQ,EAAEN,IAAI,IAAI;QAAEH,MAAM,EAAE,KAAK;QAAEU,MAAM,EAAE;MAAe,CAAE,CAAC;;EAE9F;;AAGFC,kBAAef,UAAU","names":["PDFService","TagoIOModule_1","generate","params","result","method","url","data","headers","token","error","Promise","reject","response","stuats","exports"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Services\\PDF.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport TagoIOModule, { GenericModuleParams } from \"../../common/TagoIOModule\";\r\n\r\ninterface PDFResult {\r\n  status: boolean;\r\n  result: string;\r\n}\r\n\r\ninterface PDFParams {\r\n  /**\r\n   * HTML as string\r\n   */\r\n  html?: string;\r\n\r\n  /**\r\n   * HTML on base64 format\r\n   */\r\n  base64?: string;\r\n\r\n  /**\r\n   * File name of pdf\r\n   * Without filename, it will generate base64 response\r\n   * With filename it will generate pdf binary\r\n   */\r\n  fileName?: string;\r\n\r\n  /**\r\n   * Generate pdf from URL\r\n   */\r\n  url?: string;\r\n\r\n  /**\r\n   * PDF Custom Options\r\n   */\r\n  options?: {\r\n    /**\r\n     * Display header and footer. Defaults to `false`.\r\n     */\r\n    displayHeaderFooter?: boolean;\r\n\r\n    /**\r\n     * HTML template for the print footer. Should use the same format as the `headerTemplate`.\r\n     */\r\n    footerTemplate?: string;\r\n\r\n    /**\r\n     * Paper format. If set, takes priority over `width` or `height` options. Defaults to 'Letter'.\r\n     */\r\n    format?: string;\r\n\r\n    /**\r\n     * HTML template for the print header. Should be valid HTML markup with following classes used to inject printing values\r\n     * into them:\r\n     * - `'date'` formatted print date\r\n     * - `'title'` document title\r\n     * - `'url'` document location\r\n     * - `'pageNumber'` current page number\r\n     * - `'totalPages'` total pages in the document\r\n     */\r\n    headerTemplate?: string;\r\n\r\n    /**\r\n     * Paper height, accepts values labeled with units.\r\n     */\r\n    height?: string | number;\r\n\r\n    /**\r\n     * Paper orientation. Defaults to `false`.\r\n     */\r\n    landscape?: boolean;\r\n\r\n    /**\r\n     * Paper margins, defaults to none.\r\n     */\r\n    margin?: {\r\n      /**\r\n       * Top margin, accepts values labeled with units. Defaults to `0`.\r\n       */\r\n      top?: string | number;\r\n\r\n      /**\r\n       * Right margin, accepts values labeled with units. Defaults to `0`.\r\n       */\r\n      right?: string | number;\r\n\r\n      /**\r\n       * Bottom margin, accepts values labeled with units. Defaults to `0`.\r\n       */\r\n      bottom?: string | number;\r\n\r\n      /**\r\n       * Left margin, accepts values labeled with units. Defaults to `0`.\r\n       */\r\n      left?: string | number;\r\n    };\r\n\r\n    /**\r\n     * Paper ranges to print, e.g., '1-5, 8, 11-13'. Defaults to the empty string, which means print all pages.\r\n     */\r\n    pageRanges?: string;\r\n\r\n    /**\r\n     * Give any CSS `@page` size declared in the page priority over what is declared in `width` and `height` or `format`\r\n     * options. Defaults to `false`, which will scale the content to fit the paper size.\r\n     */\r\n    preferCSSPageSize?: boolean;\r\n\r\n    /**\r\n     * Print background graphics. Defaults to `false`.\r\n     */\r\n    printBackground?: boolean;\r\n\r\n    /**\r\n     * Scale of the webpage rendering. Defaults to `1`. Scale amount must be between 0.1 and 2.\r\n     */\r\n    scale?: number;\r\n\r\n    /**\r\n     * Paper width, accepts values labeled with units.\r\n     */\r\n    width?: string | number;\r\n  };\r\n}\r\n\r\nclass PDFService extends TagoIOModule<GenericModuleParams> {\r\n  /**\r\n   * Generate a PDF from html, url or base64\r\n   *\r\n   */\r\n  public async generate(params: PDFParams): Promise<PDFResult> {\r\n    try {\r\n      const result = await axios({\r\n        method: \"POST\",\r\n        url: \"https://pdf.middleware.tago.io\",\r\n        data: params,\r\n        headers: {\r\n          token: this.params.token,\r\n        },\r\n      });\r\n\r\n      return result?.data;\r\n    } catch (error) {\r\n      return Promise.reject(error?.response?.data || { result: false, stuats: \"unknown error\" });\r\n    }\r\n  }\r\n}\r\n\r\nexport default PDFService;\r\nexport { PDFParams };\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}