{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nclass Email extends TagoIOModule_1.default {\n  async send(email) {\n    if (email.html && email.message) {\n      console.warn(new Error(\"HTML field will overwrite message field\"));\n    }\n    const result = await this.doRequest({\n      path: \"/analysis/services/email/send\",\n      method: \"POST\",\n      body: email\n    });\n    return result;\n  }\n}\nexports.default = Email;","map":{"version":3,"mappings":";;;;;;;;;;AAAA;AAuGA,MAAMA,KAAM,SAAQC,sBAAiC;EAe5C,MAAMC,IAAI,CAACC,KAAU;IAC1B,IAAIA,KAAK,CAACC,IAAI,IAAID,KAAK,CAACE,OAAO,EAAE;MAC/BC,OAAO,CAACC,IAAI,CAAC,IAAIC,KAAK,CAAC,yCAAyC,CAAC,CAAC;;IAGpE,MAAMC,MAAM,GAAG,MAAM,IAAI,CAACC,SAAS,CAAS;MAC1CC,IAAI,EAAE,+BAA+B;MACrCC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEV;KACP,CAAC;IAEF,OAAOM,MAAM;EACf;;AAGFK,kBAAed,KAAK","names":["Email","TagoIOModule_1","send","email","html","message","console","warn","Error","result","doRequest","path","method","body","exports"],"sources":["C:\\Users\\yudji\\OneDrive\\Documentos\\SGA\\WIDGETS\\mqtt_wid\\dash_mqtt\\node_modules\\@tago-io\\sdk\\src\\modules\\Services\\Email.ts"],"sourcesContent":["import TagoIOModule, { GenericModuleParams } from \"../../common/TagoIOModule\";\n\ninterface AttachmentOptions {\n  /**\n   * Archive itself\n   */\n  archive: string;\n  /**\n   * Name for the archive\n   */\n  filename: string;\n}\n\ninterface TemplateOptions {\n  /**\n   * Template name\n   *\n   * You can create an e-mail template on TagoRUN options at\n   * https://admin.tago.io/run\n   */\n  name: string;\n  /**\n   * Parameters to parse on Template\n   *\n   * You can use that parameter as local variable\n   * using $PARAMETER_KEY$\n   *\n   * example: params = { name: 'John' }\n   * will be $name$ on template document\n   */\n  params?: {\n    [key: string]: string | number;\n  };\n}\n\ninterface EmailBase {\n  /**\n   * E-mail address to be sent\n   *\n   * example: \"myclien@tago.io\"\n   */\n  to: string;\n  /**\n   * Name of origin\n   *\n   * example: \"My Run\"\n   */\n  from?: string;\n  /**\n   * Subject of the e-mail\n   *\n   * only allow with message or html\n   */\n  subject: string;\n  /**\n   * Attachment for the e-mail\n   */\n  attachment?: AttachmentOptions;\n}\n\ninterface EmailRawText {\n  /**\n   * Message in raw text for email body\n   */\n  message: string;\n}\n\ninterface EmailHTML {\n  /**\n   * HTML email body\n   */\n  html: string;\n}\n\ninterface EmailWithTemplate {\n  /**\n   * E-mail address to be sent\n   *\n   * example: \"myclien@tago.io\"\n   */\n  to: string;\n  /**\n   * Name of origin\n   *\n   * example: \"My Run\"\n   */\n  from?: string;\n  /**\n   * Attachment for the e-mail\n   */\n  attachment?: AttachmentOptions;\n  /**\n   * Use TagoRUN E-Mail Template\n   *\n   * Tip: If you use template together with attachment the\n   * back-end will generate a parameter called 'URL';\n   */\n  template?: TemplateOptions;\n}\n\ntype EmailWithHTML = EmailBase & EmailHTML;\ntype EmailWithRawText = EmailBase & EmailRawText;\n\nclass Email extends TagoIOModule<GenericModuleParams> {\n  /**\n   * Send email\n   * @param email E-mail Object\n   *\n   * @example\n   * ```json\n   * { to: \"client(at)company.com\", subject: \"Reports\", message: \"Hello client, it's your report\" }\n   * { to: \"client(at)company.com\", subject: \"Reports\", html: \"<p>Hello client, it's your report</p>\" }\n   * { to: \"client(at)company.com\", template: { name: \"my_template\" } }\n   * ```\n   */\n  public async send(email: EmailWithRawText): Promise<string>;\n  public async send(email: EmailWithHTML): Promise<string>;\n  public async send(email: EmailWithTemplate): Promise<string>;\n  public async send(email: any): Promise<string> {\n    if (email.html && email.message) {\n      console.warn(new Error(\"HTML field will overwrite message field\"));\n    }\n\n    const result = await this.doRequest<string>({\n      path: \"/analysis/services/email/send\",\n      method: \"POST\",\n      body: email,\n    });\n\n    return result;\n  }\n}\n\nexport default Email;\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}