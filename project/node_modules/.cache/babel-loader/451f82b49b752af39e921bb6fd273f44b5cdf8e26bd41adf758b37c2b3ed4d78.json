{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/node_modules/@babel/runtime/helpers/esm/createClass.js\";var _require=require(\"@tago-io/sdk\"),Account=_require.Account,Device=_require.Device;var account=new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});export var tago_device=/*#__PURE__*/function(){function tago_device(){_classCallCheck(this,tago_device);}_createClass(tago_device,[{key:\"get_device_token\",value:/*  async list(){//public method\r\n\r\n      return new Promise((resolve, reject) => {\r\n        account.devices.list()\r\n        .then((resp) => resolve(resp) )\r\n        .catch((err) => reject(err) );          \r\n      })  \r\n\r\n   }\r\n\r\n\r\n\r\n   async get_device_id(select_value){//private method\r\n       const device_id = select_value.split(\",\")[0];\r\n       return device_id;\r\n   }\r\n\r\n\r\n\r\n   async get_select_content(){//private method\r\n       const select = document.getElementById(\"devices\");\r\n       let select_value = select.options[select.selectedIndex].value;\r\n       \r\n       return select_value;\r\n   } */function(){var _get_device_token=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(device_id){var device_token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return account.devices.paramList(device_id);case 2:device_token=_context.sent;return _context.abrupt(\"return\",device_token.find(function(param){return param.key===\"device_token\";}).value);case 4:case\"end\":return _context.stop();}}},_callee);}));function get_device_token(_x){return _get_device_token.apply(this,arguments);}return get_device_token;}()},{key:\"get_device_variables\",value:function(){var _get_device_variables=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(device_id){var device_token,my_device,request;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.get_device_token(device_id);case 2:device_token=_context2.sent;my_device=new Device({token:device_token});_context2.next=6;return my_device.getData({qty:550,variable:\"esn\",values:\"0-4242117\"});case 6:request=_context2.sent;return _context2.abrupt(\"return\",request);case 8:case\"end\":return _context2.stop();}}},_callee2,this);}));function get_device_variables(_x2){return _get_device_variables.apply(this,arguments);}return get_device_variables;}()}]);return tago_device;}();","map":{"version":3,"names":["require","Account","Device","account","token","tago_device","device_id","devices","paramList","device_token","find","param","key","value","get_device_token","my_device","getData","qty","variable","values","request"],"sources":["C:/Users/yudji/OneDrive/Documentos/SGA/WIDGETS/custom_widgets/project/src/classes/device/device.js"],"sourcesContent":["const { Account, Device } = require(\"@tago-io/sdk\");\r\nconst account = new Account({ token: \"191363cf-b92e-4700-8d9f-ca21d9e9783b\" });\r\n\r\nexport class tago_device {\r\n  /*  async list(){//public method\r\n\r\n      return new Promise((resolve, reject) => {\r\n        account.devices.list()\r\n        .then((resp) => resolve(resp) )\r\n        .catch((err) => reject(err) );          \r\n      })  \r\n\r\n   }\r\n\r\n\r\n\r\n   async get_device_id(select_value){//private method\r\n       const device_id = select_value.split(\",\")[0];\r\n       return device_id;\r\n   }\r\n\r\n\r\n\r\n   async get_select_content(){//private method\r\n       const select = document.getElementById(\"devices\");\r\n       let select_value = select.options[select.selectedIndex].value;\r\n       \r\n       return select_value;\r\n   } */\r\n\r\n  async get_device_token(device_id) {\r\n    //private method\r\n    const device_token = await account.devices.paramList(device_id);\r\n    return device_token.find((param) => param.key === \"device_token\").value;\r\n  }\r\n\r\n  async get_device_variables(device_id) {\r\n    //public method\r\n    /* let select_value = await this.get_select_content();\r\n       let device_id = await this.get_device_id(select_value); */\r\n    let device_token = await this.get_device_token(device_id);\r\n\r\n    const my_device = new Device({ token: device_token });\r\n    const request = await my_device.getData({ qty: 550, variable: \"esn\", values: \"0-4242117\" });\r\n\r\n    return request;\r\n  }\r\n}\r\n"],"mappings":"0nBAAA,aAA4BA,OAAO,CAAC,cAAc,CAAC,CAA3CC,OAAO,UAAPA,OAAO,CAAEC,MAAM,UAANA,MAAM,CACvB,GAAMC,QAAO,CAAG,GAAIF,QAAO,CAAC,CAAEG,KAAK,CAAE,sCAAuC,CAAC,CAAC,CAE9E,UAAaC,YAAW,2IACtB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBE,2FA0BA,iBAAuBC,SAAS,2JAEHH,QAAO,CAACI,OAAO,CAACC,SAAS,CAACF,SAAS,CAAC,QAAzDG,YAAY,+CACXA,YAAY,CAACC,IAAI,CAAC,SAACC,KAAK,QAAKA,MAAK,CAACC,GAAG,GAAK,cAAc,GAAC,CAACC,KAAK,wDACxE,+OAED,kBAA2BP,SAAS,kLAIT,KAAI,CAACQ,gBAAgB,CAACR,SAAS,CAAC,QAArDG,YAAY,gBAEVM,SAAS,CAAG,GAAIb,OAAM,CAAC,CAAEE,KAAK,CAAEK,YAAa,CAAC,CAAC,wBAC/BM,UAAS,CAACC,OAAO,CAAC,CAAEC,GAAG,CAAE,GAAG,CAAEC,QAAQ,CAAE,KAAK,CAAEC,MAAM,CAAE,WAAY,CAAC,CAAC,QAArFC,OAAO,iDAENA,OAAO,+DACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}