{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isOldStructure = exports.convert = void 0;\nfunction convert(oldWidget) {\n  const oldDisplay = oldWidget.display || {};\n  const newStructure = {\n    analysis_run: oldWidget?.analysis_run,\n    dashboard: oldWidget.dashboard,\n    data: oldWidget?.data || [],\n    display: {\n      header_buttons: oldDisplay.header_buttons || [],\n      header_size: oldDisplay?.header_size,\n      help: oldDisplay.help || \"\",\n      parameters: oldDisplay?.parameters || [],\n      theme: {\n        color: {\n          background: null\n        }\n      },\n      url: oldDisplay?.url || \"\",\n      user: oldDisplay?.user,\n      variables: oldDisplay?.variables || []\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"iframe\"\n  };\n  return newStructure;\n}\nexports.convert = convert;\nfunction isOldStructure(widget) {\n  const isOld = !!(widget?.display?.watermark !== undefined);\n  return isOld;\n}\nexports.isOldStructure = isOldStructure;","map":{"version":3,"mappings":";;;;;;AAMA,SAAgBA,OAAO,CAACC,SAAc;EACpC,MAAMC,UAAU,GAAGD,SAAS,CAACE,OAAO,IAAI,EAAE;EAE1C,MAAMC,YAAY,GAAQ;IACxBC,YAAY,EAAEJ,SAAS,EAAEI,YAAY;IACrCC,SAAS,EAAEL,SAAS,CAACK,SAAS;IAC9BC,IAAI,EAAEN,SAAS,EAAEM,IAAI,IAAI,EAAE;IAC3BJ,OAAO,EAAE;MACPK,cAAc,EAAEN,UAAU,CAACM,cAAc,IAAI,EAAE;MAC/CC,WAAW,EAAEP,UAAU,EAAEO,WAAW;MACpCC,IAAI,EAAER,UAAU,CAACQ,IAAI,IAAI,EAAE;MAC3BC,UAAU,EAAET,UAAU,EAAES,UAAU,IAAI,EAAE;MACxCC,KAAK,EAAE;QACLC,KAAK,EAAE;UACLC,UAAU,EAAE;;OAEf;MACDC,GAAG,EAAEb,UAAU,EAAEa,GAAG,IAAI,EAAE;MAC1BC,IAAI,EAAEd,UAAU,EAAEc,IAAI;MACtBC,SAAS,EAAEf,UAAU,EAAEe,SAAS,IAAI;KACrC;IACDC,EAAE,EAAEjB,SAAS,CAACiB,EAAE;IAChBC,KAAK,EAAElB,SAAS,CAACkB,KAAK;IACtBC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;GACP;EAED,OAAOjB,YAAY;AACrB;AA5BAkB;AA8BA,SAAgBC,cAAc,CAACC,MAAW;EACxC,MAAMC,KAAK,GAAG,CAAC,EAAED,MAAM,EAAErB,OAAO,EAAEuB,SAAS,KAAKC,SAAS,CAAC;EAE1D,OAAOF,KAAK;AACd;AAJAH","names":["convert","oldWidget","oldDisplay","display","newStructure","analysis_run","dashboard","data","header_buttons","header_size","help","parameters","theme","color","background","url","user","variables","id","label","realtime","type","exports","isOldStructure","widget","isOld","watermark","undefined"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\custom.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\r\n// * What is this file?\r\n//     Migration of old CUSTOM to new CUSTOM\r\n// ? ====================================================================================\r\nimport { WidgetInfo } from \"../Account/dashboards.types\";\r\n\r\nexport function convert(oldWidget: any): WidgetInfo {\r\n  const oldDisplay = oldWidget.display || {};\r\n\r\n  const newStructure: any = {\r\n    analysis_run: oldWidget?.analysis_run,\r\n    dashboard: oldWidget.dashboard,\r\n    data: oldWidget?.data || [],\r\n    display: {\r\n      header_buttons: oldDisplay.header_buttons || [],\r\n      header_size: oldDisplay?.header_size,\r\n      help: oldDisplay.help || \"\",\r\n      parameters: oldDisplay?.parameters || [],\r\n      theme: {\r\n        color: {\r\n          background: null,\r\n        },\r\n      },\r\n      url: oldDisplay?.url || \"\",\r\n      user: oldDisplay?.user,\r\n      variables: oldDisplay?.variables || [],\r\n    },\r\n    id: oldWidget.id,\r\n    label: oldWidget.label,\r\n    realtime: null,\r\n    type: \"iframe\",\r\n  };\r\n\r\n  return newStructure;\r\n}\r\n\r\nexport function isOldStructure(widget: any) {\r\n  const isOld = !!(widget?.display?.watermark !== undefined);\r\n\r\n  return isOld;\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}