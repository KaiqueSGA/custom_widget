{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst TagoIOModule_1 = __importDefault(require(\"../../common/TagoIOModule\"));\nclass Widgets extends TagoIOModule_1.default {\n  /**\r\n   * Create a Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetObj\r\n   */\n  async create(dashboardID, widgetObj) {\n    const result = await this.doRequest({\n      path: `/dashboard/${dashboardID}/widget/`,\n      method: \"POST\",\n      body: widgetObj\n    });\n    return result;\n  }\n  /**\r\n   * Edit the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   */\n  async edit(dashboardID, widgetID, data) {\n    const result = await this.doRequest({\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\n      method: \"PUT\",\n      body: data\n    });\n    return result;\n  }\n  /**\r\n   * Delete the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\n  async delete(dashboardID, widgetID) {\n    const result = await this.doRequest({\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\n      method: \"DELETE\"\n    });\n    return result;\n  }\n  /**\r\n   * Get Info of the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\n  async info(dashboardID, widgetID) {\n    const result = await this.doRequest({\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\n      method: \"GET\"\n    });\n    return result;\n  }\n  /**\r\n   * Get all data or resource list for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param overwrite It can overwrite 'start_date', 'end_date', 'timezone' fields\r\n   */\n  async getData(dashboardID, widgetID, params) {\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}`,\n      method: \"GET\",\n      params\n    });\n    return result;\n  }\n  /**\r\n   * Send value of variable for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   * @param bypassBucket\r\n   */\n  async sendData(dashboardID, widgetID, data) {\n    let bypassBucket = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}`,\n      method: \"POST\",\n      params: {\n        bypass_bucket: bypassBucket\n      },\n      body: data\n    });\n    return result;\n  }\n  /**\r\n   * Update value of variable for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   * @param bypassBucket\r\n   */\n  async editData(dashboardID, widgetID, data) {\n    let bypassBucket = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}/data`,\n      method: \"PUT\",\n      params: {\n        bypass_bucket: bypassBucket\n      },\n      body: data\n    });\n    return result;\n  }\n  /**\r\n   * Update value of a resource for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param resourceData Updated data for the resource\r\n   * @param options Additional options\r\n   */\n  async editResource(dashboardID, widgetID, resourceData, options) {\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}/resource`,\n      method: \"PUT\",\n      params: {\n        widget_exec: options?.identifier\n      },\n      body: resourceData\n    });\n    return result;\n  }\n  /**\r\n   * Run analysis without inserting data to bucket\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   */\n  async runAnalysis(dashboardID, widgetID, data) {\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}/run`,\n      method: \"POST\",\n      body: data\n    });\n    return result;\n  }\n  /**\r\n   * Delete data by it's id, bucket and variable must be associeted with the widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param ids\r\n   */\n  async deleteData(dashboardID, widgetID, ids) {\n    const result = await this.doRequest({\n      path: `/data/${dashboardID}/${widgetID}`,\n      method: \"DELETE\",\n      params: {\n        ids\n      }\n    });\n    return result;\n  }\n  /**\r\n   * Generate a new token for the embed widgets\r\n   * It can regenerate the token if call it multi-times\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\n  async tokenGenerate(dashboardID, widgetID) {\n    const result = await this.doRequest({\n      path: `/dashboard/${dashboardID}/widget/${widgetID}/token`,\n      method: \"GET\"\n    });\n    return result;\n  }\n}\nexports.default = Widgets;","map":{"version":3,"mappings":"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","names":["Widgets","TagoIOModule_1","create","dashboardID","widgetObj","result","doRequest","path","method","body","edit","widgetID","data","delete","info","getData","params","sendData","bypassBucket","bypass_bucket","editData","editResource","resourceData","options","widget_exec","identifier","runAnalysis","deleteData","ids","tokenGenerate","exports"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Account\\Dashboard.Widgets.ts"],"sourcesContent":["import { Data, GenericID, GenericToken } from \"../../common/common.types\";\r\nimport TagoIOModule, { GenericModuleParams } from \"../../common/TagoIOModule\";\r\nimport {\r\n  EditDataModel,\r\n  EditDeviceResource,\r\n  EditResourceOptions,\r\n  GetDataModel,\r\n  PostDataModel,\r\n  WidgetInfo,\r\n} from \"./dashboards.types\";\r\n\r\nclass Widgets extends TagoIOModule<GenericModuleParams> {\r\n  /**\r\n   * Create a Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetObj\r\n   */\r\n  public async create(dashboardID: GenericID, widgetObj: WidgetInfo): Promise<{ widget: GenericID }> {\r\n    const result = await this.doRequest<any>({\r\n      path: `/dashboard/${dashboardID}/widget/`,\r\n      method: \"POST\",\r\n      body: widgetObj,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Edit the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   */\r\n  public async edit(dashboardID: GenericID, widgetID: GenericID, data: Partial<WidgetInfo>): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\r\n      method: \"PUT\",\r\n      body: data,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Delete the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\r\n  public async delete(dashboardID: GenericID, widgetID: GenericID): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Get Info of the Dashboard Widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\r\n  public async info(dashboardID: GenericID, widgetID: GenericID): Promise<WidgetInfo> {\r\n    const result = await this.doRequest<WidgetInfo>({\r\n      path: `/dashboard/${dashboardID}/widget/${widgetID}`,\r\n      method: \"GET\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Get all data or resource list for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param overwrite It can overwrite 'start_date', 'end_date', 'timezone' fields\r\n   */\r\n  public async getData(dashboardID: GenericID, widgetID: GenericID, params?: GetDataModel): Promise<object> {\r\n    const result = await this.doRequest<object>({\r\n      path: `/data/${dashboardID}/${widgetID}`,\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Send value of variable for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   * @param bypassBucket\r\n   */\r\n  public async sendData(\r\n    dashboardID: GenericID,\r\n    widgetID: GenericID,\r\n    data: PostDataModel | PostDataModel[],\r\n    bypassBucket: boolean = false\r\n  ): Promise<object> {\r\n    const result = await this.doRequest<object>({\r\n      path: `/data/${dashboardID}/${widgetID}`,\r\n      method: \"POST\",\r\n      params: {\r\n        bypass_bucket: bypassBucket,\r\n      },\r\n      body: data,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Update value of variable for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   * @param bypassBucket\r\n   */\r\n  public async editData(\r\n    dashboardID: GenericID,\r\n    widgetID: GenericID,\r\n    data: EditDataModel | EditDataModel[],\r\n    bypassBucket: boolean = false\r\n  ): Promise<object> {\r\n    const result = await this.doRequest<object>({\r\n      path: `/data/${dashboardID}/${widgetID}/data`,\r\n      method: \"PUT\",\r\n      params: {\r\n        bypass_bucket: bypassBucket,\r\n      },\r\n      body: data,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Update value of a resource for the current widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param resourceData Updated data for the resource\r\n   * @param options Additional options\r\n   */\r\n  public async editResource(\r\n    dashboardID: GenericID,\r\n    widgetID: GenericID,\r\n    resourceData: EditDeviceResource | EditDeviceResource[],\r\n    options?: EditResourceOptions\r\n  ): Promise<object> {\r\n    const result = await this.doRequest<object>({\r\n      path: `/data/${dashboardID}/${widgetID}/resource`,\r\n      method: \"PUT\",\r\n      params: {\r\n        widget_exec: options?.identifier,\r\n      },\r\n      body: resourceData,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Run analysis without inserting data to bucket\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param data\r\n   */\r\n  public async runAnalysis(dashboardID: GenericID, widgetID: GenericID, data: [object | Data]): Promise<object> {\r\n    const result = await this.doRequest<object>({\r\n      path: `/data/${dashboardID}/${widgetID}/run`,\r\n      method: \"POST\",\r\n      body: data,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Delete data by it's id, bucket and variable must be associeted with the widget\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   * @param ids\r\n   */\r\n  public async deleteData(dashboardID: GenericID, widgetID: GenericID, ids: GenericID): Promise<string> {\r\n    const result = await this.doRequest<string>({\r\n      path: `/data/${dashboardID}/${widgetID}`,\r\n      method: \"DELETE\",\r\n      params: {\r\n        ids,\r\n      },\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Generate a new token for the embed widgets\r\n   * It can regenerate the token if call it multi-times\r\n   * @param dashboardID Dashboard identification\r\n   * @param widgetID Widget identification\r\n   */\r\n  public async tokenGenerate(dashboardID: GenericID, widgetID: GenericID): Promise<{ widget_token: GenericToken }> {\r\n    const result = await this.doRequest<{ widget_token: GenericToken }>({\r\n      path: `/dashboard/${dashboardID}/widget/${widgetID}/token`,\r\n      method: \"GET\",\r\n    });\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default Widgets;\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}