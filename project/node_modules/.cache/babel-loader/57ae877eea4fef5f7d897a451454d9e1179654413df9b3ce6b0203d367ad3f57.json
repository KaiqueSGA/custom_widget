{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isOldStructure = exports.convert = void 0;\nfunction convert(oldWidget) {\n  var oldDisplay = oldWidget.display || {};\n  var newStructure = {\n    analysis_run: oldWidget === null || oldWidget === void 0 ? void 0 : oldWidget.analysis_run,\n    dashboard: oldWidget.dashboard,\n    data: (oldWidget === null || oldWidget === void 0 ? void 0 : oldWidget.data) || [],\n    display: {\n      header_buttons: oldDisplay.header_buttons || [],\n      header_size: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.header_size,\n      help: oldDisplay.help || \"\",\n      parameters: (oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.parameters) || [],\n      theme: {\n        color: {\n          background: null\n        }\n      },\n      url: (oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.url) || \"\",\n      user: oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.user,\n      variables: (oldDisplay === null || oldDisplay === void 0 ? void 0 : oldDisplay.variables) || []\n    },\n    id: oldWidget.id,\n    label: oldWidget.label,\n    realtime: null,\n    type: \"iframe\"\n  };\n  return newStructure;\n}\nexports.convert = convert;\nfunction isOldStructure(widget) {\n  var _widget$display;\n  var isOld = !!((widget === null || widget === void 0 ? void 0 : (_widget$display = widget.display) === null || _widget$display === void 0 ? void 0 : _widget$display.watermark) !== undefined);\n  return isOld;\n}\nexports.isOldStructure = isOldStructure;","map":{"version":3,"mappings":";;;;;;AAMA,SAAgBA,OAAO,CAACC,SAAc;EACpC,IAAMC,UAAU,GAAGD,SAAS,CAACE,OAAO,IAAI,EAAE;EAE1C,IAAMC,YAAY,GAAQ;IACxBC,YAAY,EAAEJ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEI,YAAY;IACrCC,SAAS,EAAEL,SAAS,CAACK,SAAS;IAC9BC,IAAI,EAAE,UAAS,aAATN,SAAS,uBAATA,SAAS,CAAEM,IAAI,KAAI,EAAE;IAC3BJ,OAAO,EAAE;MACPK,cAAc,EAAEN,UAAU,CAACM,cAAc,IAAI,EAAE;MAC/CC,WAAW,EAAEP,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEO,WAAW;MACpCC,IAAI,EAAER,UAAU,CAACQ,IAAI,IAAI,EAAE;MAC3BC,UAAU,EAAE,WAAU,aAAVT,UAAU,uBAAVA,UAAU,CAAES,UAAU,KAAI,EAAE;MACxCC,KAAK,EAAE;QACLC,KAAK,EAAE;UACLC,UAAU,EAAE;;OAEf;MACDC,GAAG,EAAE,WAAU,aAAVb,UAAU,uBAAVA,UAAU,CAAEa,GAAG,KAAI,EAAE;MAC1BC,IAAI,EAAEd,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEc,IAAI;MACtBC,SAAS,EAAE,WAAU,aAAVf,UAAU,uBAAVA,UAAU,CAAEe,SAAS,KAAI;KACrC;IACDC,EAAE,EAAEjB,SAAS,CAACiB,EAAE;IAChBC,KAAK,EAAElB,SAAS,CAACkB,KAAK;IACtBC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;GACP;EAED,OAAOjB,YAAY;AACrB;AA5BAkB;AA8BA,SAAgBC,cAAc,CAACC,MAAW;EAAA;EACxC,IAAMC,KAAK,GAAG,CAAC,EAAE,OAAM,aAAND,MAAM,0CAANA,MAAM,CAAErB,OAAO,oDAAf,gBAAiBuB,SAAS,MAAKC,SAAS,CAAC;EAE1D,OAAOF,KAAK;AACd;AAJAH","names":["convert","oldWidget","oldDisplay","display","newStructure","analysis_run","dashboard","data","header_buttons","header_size","help","parameters","theme","color","background","url","user","variables","id","label","realtime","type","exports","isOldStructure","widget","isOld","watermark","undefined"],"sources":["C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\node_modules\\@tago-io\\sdk\\src\\modules\\Migration\\custom.ts"],"sourcesContent":["// ? ==================================== (c) TagoIO ====================================\r\n// * What is this file?\r\n//     Migration of old CUSTOM to new CUSTOM\r\n// ? ====================================================================================\r\nimport { WidgetInfo } from \"../Account/dashboards.types\";\r\n\r\nexport function convert(oldWidget: any): WidgetInfo {\r\n  const oldDisplay = oldWidget.display || {};\r\n\r\n  const newStructure: any = {\r\n    analysis_run: oldWidget?.analysis_run,\r\n    dashboard: oldWidget.dashboard,\r\n    data: oldWidget?.data || [],\r\n    display: {\r\n      header_buttons: oldDisplay.header_buttons || [],\r\n      header_size: oldDisplay?.header_size,\r\n      help: oldDisplay.help || \"\",\r\n      parameters: oldDisplay?.parameters || [],\r\n      theme: {\r\n        color: {\r\n          background: null,\r\n        },\r\n      },\r\n      url: oldDisplay?.url || \"\",\r\n      user: oldDisplay?.user,\r\n      variables: oldDisplay?.variables || [],\r\n    },\r\n    id: oldWidget.id,\r\n    label: oldWidget.label,\r\n    realtime: null,\r\n    type: \"iframe\",\r\n  };\r\n\r\n  return newStructure;\r\n}\r\n\r\nexport function isOldStructure(widget: any) {\r\n  const isOld = !!(widget?.display?.watermark !== undefined);\r\n\r\n  return isOld;\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}