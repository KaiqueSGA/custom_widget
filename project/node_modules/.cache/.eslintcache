[{"C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\index.js":"1","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\App.js":"2","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\widgets\\device_variables\\device_variables.js":"3","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\classes\\location\\location.js":"4","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\classes\\device\\device.js":"5"},{"size":320,"mtime":1681473157208,"results":"6","hashOfConfig":"7"},{"size":3430,"mtime":1681473157201,"results":"8","hashOfConfig":"7"},{"size":7692,"mtime":1683037961663,"results":"9","hashOfConfig":"7"},{"size":8697,"mtime":1681473157207,"results":"10","hashOfConfig":"7"},{"size":1458,"mtime":1681992495228,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},"xkhjgn",{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\index.js",["30","31"],[],"import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Device_variables } from './widgets/device_variables/device_variables';\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n    <Device_variables />\r\n);\r\n\r\n\r\n","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\App.js",["32","33","34","35","36","37","38"],[],"import './App.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst {Account, Device, Services} = require('@tago-io/sdk'); \r\n\r\n    \r\n    const notify = (message) => toast.success(message);\r\n    const error = (message) => toast.error(message) \r\n    \r\n\r\nfunction App() {\r\n   const account = new Account({token:\"191363cf-b92e-4700-8d9f-ca21d9e9783b\"});\r\n   const my_device = new Device({token:\"1604825b-a5ea-4217-a359-3b0a1ce3232f\"});\r\n\r\n   const [arrayOfdevices,setArray] = useState([]);\r\n\r\n    async function listdevices(){\r\n\r\n         let list_response =  await account.analysis.list();\r\n         await account.analysis.run(\"642474606f1fa600090faf53\")\r\n         const esn_variables = (await my_device.getData({ qty: 200 })).filter(obj => obj.variable === \"esn\")//a cada 100 variáveis eu tenho uma média de 16 variáveis ESN\r\n       \r\n       }\r\n\r\n   \r\n        window.TagoIO.onStart((widget) => {\r\n            window.widget = widget;\r\n        })\r\n        window.TagoIO.ready();\r\n\r\n\r\n\r\n        return(\r\n             <div className=\"container\">\r\n                <ToastContainer />\r\n                    <div className=\"box\">\r\n                        \r\n                        <div className =\"cabecalho\">\r\n                            <div className =\"title\">Enviar Comando</div>\r\n                        </div>\r\n                        \r\n                        \r\n                        <div className =\"fieldOfSelection\">\r\n                \r\n                            <div className=\" label_dev\">\r\n                                <img className =\"drop\" alt='' src=\"https://img.icons8.com/external-zen-filled-royyan-wijaya/2x/external-list-dropdown-business-zen-filled-royyan-wijaya.png\" />\r\n                                <div className =\"title_label\">Select the device to configure it</div> \r\n                            </div>\r\n                \r\n                \r\n                              <div className=\"input\">\r\n                                    <select id=\"devices\" className =\"devices\">\r\n                                    {arrayOfdevices.map((item) =>{\r\n                                        try{\r\n                                            return(\r\n                                                <option value={`${item.id},${item.name}`}> {item.name} </option>\r\n                                            )\r\n                                        }catch(err){\r\n                                           error(err)\r\n                                        }\r\n                                      \r\n                                    })}\r\n                                    </select>\r\n                                </div>  \r\n                                \r\n                \r\n                            \r\n                \r\n                            <div className=\"rodape\">\r\n                                 <button className=\"button\" onClick={() => listdevices()}>\r\n                                    Sent MQTT Message\r\n                                </button> \r\n                            </div>\r\n                \r\n                \r\n                        </div>\r\n                        \r\n                    \r\n                \r\n                    </div>  \r\n                    \r\n                   \r\n                </div>\r\n           \r\n        )\r\n}\r\n\r\nexport default App;","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\widgets\\device_variables\\device_variables.js",["39"],[],"C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\classes\\location\\location.js",["40","41"],[],"const axios = require('axios');\r\n\r\n\r\nexport class location_apis {\r\n\r\n\r\n     prepare_mac_parameterers_for_requisition = (wifi_fields, esn) => {//private method\r\n            let wifi_parameters_list = new Array();\r\n    \r\n            if(wifi_fields === undefined){\r\n                return; \r\n            }else{\r\n                wifi_fields.forEach(key => {\r\n                if(!esn.metadata[key]){//if there isn´t nothing field with the specific wifi name, will retun the function.\r\n                  return\r\n                }\r\n            \r\n                let wifi_fields_array = esn.metadata[key].split(\",\");\r\n                wifi_parameters_list.push({\r\n                  macAddress: wifi_fields_array[0],\r\n                  signalStrength: wifi_fields_array[1],\r\n                  signalToNoiseRatio: 0,\r\n                })\r\n            \r\n              });\r\n            } \r\n            \r\n        return wifi_parameters_list;\r\n     }\r\n    \r\n\r\n\r\n\r\n\r\n      prepare_lbs_parameters_for_requesition = (keyTag,esn,dataType) => {\r\n        if(keyTag === undefined){ return; }\r\n\r\n        let lbsList = new Array();   \r\n          \r\n              keyTag.forEach(key => {\r\n      \r\n                  if(!esn.metadata[key]){ return; }// if there isn´t nothing field with the specific lbs, will retun the function.\r\n              \r\n                  let arrayFieldsLbs = (esn.metadata[key]).split(',');\r\n                  if (arrayFieldsLbs.length < 3) { return; }\r\n                  if (arrayFieldsLbs[4] === \"FFFF\" || arrayFieldsLbs[7] === \"0000\") { return; };\r\n      \r\n                  if (arrayFieldsLbs.length > 10) {\r\n\r\n                    if(dataType === \"lte\"){\r\n                        lbsList.push({\r\n                            cell: arrayFieldsLbs[0],\r\n                            earfcn: arrayFieldsLbs[1],\r\n                            pci: arrayFieldsLbs[2],\r\n                            rsrp: arrayFieldsLbs[3],\r\n                            rssi: arrayFieldsLbs[4],\r\n                            rsrq: arrayFieldsLbs[5],\r\n                            sinr: arrayFieldsLbs[6],\r\n                            lac: arrayFieldsLbs[7],\r\n                            cellid:arrayFieldsLbs[8],\r\n                            mcc:arrayFieldsLbs[9],\r\n                            mnc:arrayFieldsLbs[10],\r\n                            txPower:arrayFieldsLbs[11]\r\n                        });\r\n                        }else{\r\n                            lbsList.push({\r\n                                cell: arrayFieldsLbs[0],\r\n                                bcch: arrayFieldsLbs[1],\r\n                                rxl: arrayFieldsLbs[2],\r\n                                rxq: arrayFieldsLbs[3],\r\n                                mcc: arrayFieldsLbs[4],\r\n                                mnc: arrayFieldsLbs[5],\r\n                                bsic: arrayFieldsLbs[6],\r\n                                cellid: arrayFieldsLbs[7],\r\n                                rla: arrayFieldsLbs[8],\r\n                                txp: arrayFieldsLbs[9],\r\n                                lac: arrayFieldsLbs[10],\r\n                                ta: arrayFieldsLbs[11],\r\n                            });\r\n                        }\r\n\r\n                  }else {\r\n                    if(dataType === \"lte\"){\r\n                        lbsList.push({\r\n                      cell: arrayFieldsLbs[0],\r\n                      earfcn: arrayFieldsLbs[1],\r\n                      pci: arrayFieldsLbs[2],\r\n                      rsrp: arrayFieldsLbs[3],\r\n                      rssi: arrayFieldsLbs[4],\r\n                      rsrq: arrayFieldsLbs[5],\r\n                      sinr: arrayFieldsLbs[6]\r\n                      });  \r\n                    \r\n                    }else{\r\n                        lbsList.push({\r\n                            cell: arrayFieldsLbs[0],\r\n                            bcch: arrayFieldsLbs[1],\r\n                            rxl: arrayFieldsLbs[2],\r\n                            bsic: arrayFieldsLbs[3],\r\n                            cellid: arrayFieldsLbs[4],\r\n                            mcc: arrayFieldsLbs[5],\r\n                            mnc: arrayFieldsLbs[6],\r\n                            lac: arrayFieldsLbs[7],\r\n                            });\r\n                    }\r\n\r\n\r\n                  }\r\n        \r\n              });\r\n      \r\n\r\n            \r\n            return lbsList;\r\n      \r\n      }//end of function parseToObjectLBS\r\n     \r\n     \r\n     \r\n     \r\n     \r\n     get_address_through_coordinates = async(latitude, longitude) =>{//public method\r\n        const request = await axios.get(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`);\r\n        \r\n        if(request.data.address !== undefined){\r\n          let address = request.data.address;\r\n\r\n          return address.quarter === undefined\r\n                              ? `${address.road} - ${address.suburb} - ${address.state} - ${address.city} - ${address.postcode}`\r\n                              : `${address.road} - ${address.quarter} - ${address.state} - ${address.city} - ${address.postcode}`; \r\n        }else{\r\n         return {address: \"no data available\"};\r\n        }\r\n        \r\n      }\r\n\r\n\r\n\r\n\r\n\r\n       get_coordinates_through_mac_datas = async(wifi_fields, esn) =>{\r\n          \r\n         let list = this.prepare_mac_parameterers_for_requisition(wifi_fields, esn);\r\n        \r\n            try{\r\n                    /* if the mode that i sent to a function is the same the wifi, i want that the function made a macAddress requisition */\r\n                    const result = await axios({\r\n                        method: \"POST\",\r\n                        url: \"https://www.googleapis.com/geolocation/v1/geolocate\",\r\n                        params: {\r\n                          key: \"AIzaSyDq2lk5DBMUg2ymbDimMunBbvQwk-4MeLg\",\r\n                        },\r\n                        data: {\r\n                          homeMobileCountryCode: 0,\r\n                          homeMobileNetworkCode: 0,\r\n                          radioType: \"gsm\",\r\n                          carrier: \"Vodafone\",\r\n                          considerIp: false,\r\n                          wifiAccessPoints: list\r\n                        },\r\n                    })\r\n        \r\n\r\n                    if (!result) { return {lat:0, lng:0} };\r\n                    return result.data.location;\r\n\r\n            }catch(e){ return {lat:0, lng:0} }\r\n   \r\n     } \r\n\r\n\r\n\r\n\r\n\r\n     get_coordinates_through_lbs_datas = async(lbs_fields, esn, data_type) =>{\r\n         try{\r\n                 let list = this.prepare_lbs_parameters_for_requesition(lbs_fields, esn, data_type);\r\n             \r\n                 let cellTowers = list.map((lbs) => {/* I create a array with several objects, this array will be used how parameter in the google API  */\r\n                      return {\r\n                         cellId: data_type === \"lte\" ?  parseInt(lbs.cellid) :parseInt(lbs.cellid),\r\n                         locationAreaCode :data_type === \"lte\" ?parseInt(lbs.lac) :parseInt(lbs.lac),\r\n                         mobileCountryCode: parseInt(lbs.mcc),\r\n                         mobileNetworkCode: parseInt(lbs.mnc),\r\n                        };\r\n                  });\r\n          \r\n                 \r\n                  \r\n                 const lbs0 = list.find((x) => x.cell === \"LBS0\");\r\n                 if(!lbs0){ return {lat:0, lng:0} };\r\n          \r\n            \r\n                    \r\n            /*  Google api will return geography coordinates accordingly with the lbs Datas returned of const cellTowers(objects array) */\r\n                const result = await axios({\r\n                    method: \"POST\",\r\n                    url: \"https://www.googleapis.com/geolocation/v1/geolocate\",\r\n                    params: {\r\n                      key: \"AIzaSyDq2lk5DBMUg2ymbDimMunBbvQwk-4MeLg\",\r\n                    },\r\n                    data: {\r\n                       homeMobileCountryCode: parseInt(lbs0.mcc),\r\n                       homeMobileNetworkCode: parseInt(lbs0.mnc),\r\n                       radioType: data_type === \"lte\" ?\"LTE\" :\"gsm\",//define o tipo de dados que a minha api vai receber GSM | LTE\r\n                       carrier: \"Vodafone\",\r\n                       considerIp: false,\r\n                       cellTowers: data_type === \"lte\" ? [cellTowers[0]] :cellTowers\r\n                      }\r\n                    }).catch((err) => console.log())\r\n                            \r\n                          \r\n                    if(!result) { return {lat:0, lng:0} };\r\n                    return result.data.location;\r\n                    \r\n            }catch(e){ return {lat:0, lng:0}; }\r\n           \r\n        \r\n   \r\n     }\r\n\r\n\r\n}\r\n\r\n\r\n","C:\\Users\\kaique\\Documents\\SGA\\widget\\project\\src\\classes\\device\\device.js",[],[],{"ruleId":"42","severity":1,"message":"43","line":4,"column":8,"nodeType":"44","messageId":"45","endLine":4,"endColumn":11},{"ruleId":"46","severity":1,"message":"47","line":10,"column":5,"nodeType":"48","messageId":"49","endLine":10,"endColumn":25},{"ruleId":"42","severity":1,"message":"50","line":2,"column":17,"nodeType":"44","messageId":"45","endLine":2,"endColumn":26},{"ruleId":"42","severity":1,"message":"51","line":5,"column":25,"nodeType":"44","messageId":"45","endLine":5,"endColumn":33},{"ruleId":"42","severity":1,"message":"52","line":8,"column":11,"nodeType":"44","messageId":"45","endLine":8,"endColumn":17},{"ruleId":"42","severity":1,"message":"53","line":16,"column":26,"nodeType":"44","messageId":"45","endLine":16,"endColumn":34},{"ruleId":"42","severity":1,"message":"54","line":20,"column":14,"nodeType":"44","messageId":"45","endLine":20,"endColumn":27},{"ruleId":"42","severity":1,"message":"55","line":22,"column":16,"nodeType":"44","messageId":"45","endLine":22,"endColumn":29},{"ruleId":"56","severity":1,"message":"57","line":54,"column":64,"nodeType":"58","messageId":"59","endLine":54,"endColumn":66},{"ruleId":"60","severity":1,"message":"61","line":25,"column":5,"nodeType":"62","endLine":25,"endColumn":7,"suggestions":"63"},{"ruleId":"64","severity":1,"message":"65","line":8,"column":40,"nodeType":"66","messageId":"67","endLine":8,"endColumn":51},{"ruleId":"64","severity":1,"message":"65","line":38,"column":23,"nodeType":"66","messageId":"67","endLine":38,"endColumn":34},"no-unused-vars","'App' is defined but never used.","Identifier","unusedVar","react/jsx-pascal-case","Imported JSX component Device_variables must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","usePascalOrSnakeCase","'useEffect' is defined but never used.","'Services' is assigned a value but never used.","'notify' is assigned a value but never used.","'setArray' is assigned a value but never used.","'list_response' is assigned a value but never used.","'esn_variables' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'device_methods'. Either include it or remove the dependency array.","ArrayExpression",["68"],"no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral",{"desc":"69","fix":"70"},"Update the dependencies array to be: [device_methods]",{"range":"71","text":"72"},[764,766],"[device_methods]"]